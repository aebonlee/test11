# 관리자 시스템 관리 유저플로우

> 감사 로그, 시스템 설정

---

## 1. 감사 로그 조회

```
관리자 → 감사 로그
    ↓
GET /api/admin/audit-logs → 로그 목록 로드
    ↓
필터:
- 기간별 (오늘/이번 주/이번 달)
- 작업 유형별 (생성/수정/삭제)
- 관리자별
    ↓
로그 목록 표시:
- 일시
- 관리자
- 작업 유형
- 대상
- 상세 내용
```

---

## 2. 로그 상세 조회

```
로그 목록에서 선택 → 상세 보기
    ↓
GET /api/admin/audit-logs/[id]
    ↓
표시 정보:
- 작업 일시
- 수행한 관리자
- 작업 유형 (action)
- 대상 유형/ID
- 변경 전/후 데이터 (JSON)
- IP 주소
```

---

## 3. 시스템 설정

```
관리자 → 시스템 설정
    ↓
GET /api/admin/settings → 현재 설정 로드
    ↓
설정 항목:
- 사이트 기본 정보 (이름, 설명)
- 회원가입 설정 (이메일 인증 필수 여부)
- 게시글 설정 (자동 검열 등)
- 알림 설정
- 기타 설정
    ↓
수정 후 저장 → PATCH /api/admin/settings
```

---

## 4. 매출 리포트

```
/admin/report-sales 페이지 접속
    ↓
GET /api/admin/report-sales → 매출 데이터 로드
    ↓
표시 항목:
- 기간별 매출 현황
- 결제 내역
- 환불 내역
- 매출 차트
```

---

## API 목록

| 기능 | 메서드 | 엔드포인트 |
|------|--------|------------|
| 감사 로그 목록 | GET | /api/admin/audit-logs |
| 감사 로그 상세 | GET | /api/admin/audit-logs/[id] |
| 설정 조회 | GET | /api/admin/settings |
| 설정 수정 | PATCH | /api/admin/settings |
| 매출 리포트 | GET | /api/admin/report-sales |
