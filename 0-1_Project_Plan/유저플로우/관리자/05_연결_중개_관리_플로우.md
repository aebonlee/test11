# 관리자 연결/중개 서비스 관리 유저플로우

> 연결 서비스 관리, 중개 서비스 업체 관리

---

## 1. 연결 요청 목록 조회

```
/admin/connections 페이지 접속
    ↓
GET /api/admin/connections → 연결 요청 목록 로드
    ↓
필터: 상태별 (대기/승인/거부/완료/취소)
    ↓
요청 목록 표시:
- 요청자 정보
- 대상 정치인
- 요청 제목
- 상태
- 요청일
```

---

## 2. 연결 요청 처리

```
요청 목록에서 "상세보기" 클릭
    ↓
요청 상세 모달:
- 요청자: 이름, 이메일, 연락처
- 정치인: 이름, 정당, 직위
- 요청 내용: 제목, 메시지, 목적
    ↓
관리자 메모 입력 (선택)
    ↓
"승인" 또는 "거부" 클릭
    ↓
PATCH /api/admin/connections → 상태 변경
```

---

## 3. 연결 완료 처리

```
승인된 연결 → "완료 처리" 클릭
    ↓
PATCH /api/admin/connections { status: 'completed' }
    ↓
연결 서비스 이력에 기록
```

---

## 4. 중개 업체 목록 조회

```
/admin/relay 페이지 접속
    ↓
GET /api/admin/relay → 업체 목록 로드
    ↓
필터: 상태별 (활성/비활성/심사중)
    ↓
업체 목록 표시:
- 순서, 업체명, 서비스 유형
- 연락처, 상태, 등록일
```

---

## 5. 중개 업체 등록

```
"+ 새 업체 등록" 클릭 → 등록 모달
    ↓
필수 입력:
- 업체명
- 서비스 유형 (10자 이내)
- 회사 소개
- 서비스 소개
- 연락처, 이메일
    ↓
선택 입력:
- 홈페이지, 주소, 로고
- 대표자명, 사업자등록번호
    ↓
POST /api/admin/relay → 등록 완료
```

---

## 6. 중개 업체 상태 관리

```
업체 목록에서 상태 변경:
- "승인": 심사중 → 활성
- "비활성화": 활성 → 비활성
- "활성화": 비활성 → 활성
    ↓
PATCH /api/admin/relay → 상태 변경
```

---

## API 목록

| 기능 | 메서드 | 엔드포인트 |
|------|--------|------------|
| 연결 요청 목록 | GET | /api/admin/connections |
| 연결 요청 처리 | PATCH | /api/admin/connections |
| 중개 업체 목록 | GET | /api/admin/relay |
| 중개 업체 등록 | POST | /api/admin/relay |
| 중개 업체 수정 | PATCH | /api/admin/relay |
| 중개 업체 삭제 | DELETE | /api/admin/relay |
