# 회원 커뮤니티 유저플로우

> 게시글 쓰기, 댓글 쓰기, 대댓글, 공감/비공감

---

## 1. 게시글 쓰기

```
커뮤니티 → "글쓰기" 클릭 → /community/posts/create
    ↓
로그인 확인 (필수)
    ↓
게시글 작성:
- 제목 입력
- 내용 입력 (에디터)
- 카테고리 선택
- 첨부파일 (선택)
    ↓
"등록" 클릭 → POST /api/posts
    ↓
게시글 상세 페이지로 이동 → 완료
```

---

## 2. 댓글 쓰기

```
게시글 상세 페이지 (/community/posts/[id])
    ↓
하단 댓글 입력창 → 내용 입력
    ↓
"등록" 클릭 → POST /api/comments
    ↓
댓글 목록에 추가 → 완료
```

---

## 3. 대댓글 쓰기

```
댓글 목록에서 "답글" 클릭
    ↓
대댓글 입력창 표시 → 내용 입력
    ↓
"등록" 클릭 → POST /api/comments (parent_id 포함)
    ↓
해당 댓글 하위에 대댓글 표시 → 완료
```

---

## 4. 공감/비공감 표시

```
게시글 또는 댓글에서 👍/👎 버튼 클릭
    ↓
로그인 확인
├─ 비로그인: 로그인 유도
└─ 로그인: 계속
    ↓
POST /api/votes
    ↓
공감/비공감 수 업데이트 → 완료
```

**취소**: 같은 버튼 다시 클릭 → 투표 취소
**변경**: 반대 버튼 클릭 → 기존 취소 + 새 투표

---

## API 목록

| 기능 | 메서드 | 엔드포인트 |
|------|--------|------------|
| 게시글 목록 | GET | /api/posts |
| 게시글 작성 | POST | /api/posts |
| 게시글 상세 | GET | /api/posts/[id] |
| 게시글 수정 | PATCH | /api/posts/[id] |
| 게시글 삭제 | DELETE | /api/posts/[id] |
| 댓글 목록 | GET | /api/comments?postId= |
| 댓글 작성 | POST | /api/comments |
| 댓글 삭제 | DELETE | /api/comments/[id] |
| 공감/비공감 | POST | /api/votes |
| 첨부파일 | POST | /api/posts/attachments |
