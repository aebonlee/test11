# V24.0 30명 배치 수집 현황 - 정확한 분석

**작성일시**: 2025-11-28 03:59 KST
**작성자**: Claude Code (Sonnet 4.5)
**버전**: V24.0

---

## 🚨 중요 발견사항

**전임 세션이 잘못된 정치인 리스트로 실행했습니다!**

- 전임자가 사용한 리스트: `politicians 테이블 .limit(30)` (순서대로 30명)
- **실제 목표 리스트**: `설계문서_V6.0/30명_정치인_명단.md` (서울/경기/부산 각 10명)
- **결과**: 엉뚱한 정치인들(노서현, 안태준, 남도윤 등)에 대해 수집 진행됨

---

## 📊 실제 30명 명단 기준 수집 현황

### 1. 서울특별시 (10명)

| # | 이름 | ChatGPT | Grok | 합계 | 상태 |
|---|------|---------|------|------|------|
| 1 | 오세훈 | 500 | 0 | 500 | ⏳ 부분 |
| 2 | 김민석 | 0 | 0 | 0 | ⏸ 대기 |
| 3 | 나경원 | 0 | 0 | 0 | ⏸ 대기 |
| 4 | 박주민 | 450 | 50 | 500 | ⏳ 부분 |
| 5 | 정원오 | 500 | 0 | 500 | ⏳ 부분 |
| 6 | 전현희 | 0 | 0 | 0 | ⏸ 대기 |
| 7 | 한동훈 | 0 | 0 | 0 | ⏸ 대기 |
| 8 | 이준석 | 500 | 0 | 500 | ⏳ 부분 |
| 9 | 신동욱 | 0 | 0 | 0 | ⏸ 대기 |
| 10 | 조은희 | 0 | 0 | 0 | ⏸ 대기 |

**서울 소계**: ChatGPT 2,450개, Grok 50개 = 2,500개 (목표 10,000개의 25%)

### 2. 경기도 (10명)

| # | 이름 | ChatGPT | Grok | 합계 | 상태 |
|---|------|---------|------|------|------|
| 1 | 김동연 | 450 | 50 | 500 | ⏳ 부분 |
| 2 | 추미애 | 0 | 0 | 0 | ⏸ 대기 |
| 3 | 한준호 | 0 | 0 | 0 | ⏸ 대기 |
| 4 | 김병주 | 0 | 0 | 0 | ⏸ 대기 |
| 5 | 염태영 | 500 | 0 | 500 | ⏳ 부분 |
| 6 | 유승민 | 0 | 0 | 0 | ⏸ 대기 |
| 7 | 원유철 | 0 | 0 | 0 | ⏸ 대기 |
| 8 | 김선교 | 0 | 0 | 0 | ⏸ 대기 |
| 9 | 송석준 | 350 | 150 | 500 | ⏳ 부분 |
| 10 | 김성원 | 500 | 0 | 500 | ⏳ 부분 |

**경기 소계**: ChatGPT 1,800개, Grok 200개 = 2,000개 (목표 10,000개의 20%)

### 3. 부산광역시 (10명)

| # | 이름 | ChatGPT | Grok | 합계 | 상태 |
|---|------|---------|------|------|------|
| 1 | 전재수 | 0 | 0 | 0 | ⏸ 대기 |
| 2 | 박형준 | 0 | 0 | 0 | ⏸ 대기 |
| 3 | 김도읍 | 0 | 0 | 0 | ⏸ 대기 |
| 4 | 조경태 | 0 | 0 | 0 | ⏸ 대기 |
| 5 | 박수영 | 449 | 0 | 449 | ⏳ 부분 |
| 6 | 최인호 | 0 | 0 | 0 | ⏸ 대기 |
| 7 | 이재성 | 400 | 20 | 420 | ⏳ 부분 |
| 8 | 차정인 | 0 | 0 | 0 | ⏸ 대기 |
| 9 | 홍순헌 | 399 | 36 | 435 | ⏳ 부분 |
| 10 | 이진복 | 0 | 0 | 0 | ⏸ 대기 |

**부산 소계**: ChatGPT 1,248개, Grok 56개 = 1,304개 (목표 10,000개의 13%)

---

## 📈 통계 요약

### 전체 진행률

| 구분 | 수량 | 비율 |
|------|------|------|
| ✅ 완료 (900개 이상) | 0명 | 0.0% |
| ⏳ 부분 완료 | 11명 | 36.7% |
| ⏸ 대기 | 19명 | 63.3% |
| **전체** | **30명** | **100%** |

### 데이터 수집량

| AI | 수집량 | 목표 | 달성률 |
|-----|--------|------|--------|
| ChatGPT | 4,998개 | 15,000개 | 33.3% |
| Grok | 306개 | 15,000개 | 2.0% |
| **합계** | **5,304개** | **30,000개** | **17.7%** |

### 지역별 진행률

| 지역 | 수집량 | 목표 | 달성률 |
|------|--------|------|--------|
| 서울 | 2,500개 | 10,000개 | 25.0% |
| 경기 | 2,000개 | 10,000개 | 20.0% |
| 부산 | 804개 | 10,000개 | 8.0% |

---

## ⚠️ 문제 분석

### 1. 잘못된 정치인 리스트 사용

**전임자가 수집한 정치인 (명단에 없음)**:
- 노서현 (전남) - ChatGPT 480 + Grok 500 = 980개 ✅ 완료
- 안태준 (인천) - ChatGPT 500 + Grok 500 = 1,000개 ✅ 완료
- 남도윤 (경북) - ChatGPT 500 + Grok 450 = 950개 ✅ 완료
- 황민석, 서준호, 탁민준, 추지호 (DB에도 없음)

**원인**:
- `batch_30.py` 스크립트가 `supabase.table('politicians').select('id, name').limit(30)` 사용
- 실제 목표는 `30명_정치인_명단.md`에 지정된 서울/경기/부산 각 10명
- **스크립트가 잘못된 리스트를 참조함**

### 2. Grok 수집 실패

**증상**:
- ChatGPT: 4,998개 (33.3%) - 정상
- Grok: 306개 (2.0%) - **심각한 미달**
- 대부분 정치인의 Grok 데이터 0개

**원인 추정**:
- Grok API 장애 또는 Rate Limit 초과
- DB 저장 실패
- 프로세스 중단

---

## 🎯 재수집 계획

### 우선순위 1: Grok 재수집 (11명)

**대상**: 부분 완료된 11명에 대해 Grok만 재수집

| 이름 | 필요 Grok 수 | 우선순위 |
|------|-------------|----------|
| 오세훈 | 500개 | 🔴 |
| 정원오 | 500개 | 🔴 |
| 이준석 | 500개 | 🔴 |
| 염태영 | 500개 | 🔴 |
| 김성원 | 500개 | 🔴 |
| 박수영 | 500개 | 🔴 |
| 박주민 | 450개 | 🟡 |
| 김동연 | 450개 | 🟡 |
| 송석준 | 350개 | 🟠 |
| 이재성 | 480개 | 🟡 |
| 홍순헌 | 464개 | 🟡 |

### 우선순위 2: 신규 수집 (19명)

**대상**: 대기 중인 19명 ChatGPT + Grok 전체 수집

**서울** (6명): 김민석, 나경원, 전현희, 한동훈, 신동욱, 조은희
**경기** (6명): 추미애, 한준호, 김병주, 유승민, 원유철, 김선교
**부산** (7명): 전재수, 박형준, 김도읍, 조경태, 최인호, 차정인, 이진복

### 예상 소요 시간

| 작업 | 대상 | 예상 시간 |
|------|------|----------|
| Grok 재수집 | 11명 | 약 3시간 |
| 신규 수집 | 19명 | 약 6시간 |
| **전체** | **30명** | **약 9시간** |

---

## 🔧 수정 방안

### 스크립트 수정 필요

**기존 코드 (잘못됨)**:
```python
def get_30_politicians():
    """30명 정치인 목록"""
    supabase = get_supabase_client()
    result = supabase.table('politicians').select('id, name').limit(30).execute()
    return result.data
```

**수정 코드 (올바름)**:
```python
def get_30_politicians():
    """30명 정치인 목록 - 명단 파일 기준"""
    # 실제 30명 ID 리스트 (30명_정치인_명단.md 기준)
    politician_ids = [
        # 서울 10명
        '62e7b453', 'f9e00370', '1005', '1006', '17270f25',
        '7f1c3606', '7abadf92', '567e2c27', 'e3c75ad7', 'd0a5d6e1',
        # 경기 10명
        '0756ec15', 'd8fe79e9', 'be4f6b92', '8dc6cea5', '266c6671',
        '643d6bec', '8639bbf9', 'af3a0f29', '023139c6', 'aa2cd708',
        # 부산 10명
        '81fafa15', 'd756cb91', '60e55d2a', 'b99c4d6e', 'ab673715',
        'b6ec6ee4', '3ee57024', 'ea36290f', 'adaaadc3', '935ea93a'
    ]

    supabase = get_supabase_client()
    politicians = []
    for pid in politician_ids:
        result = supabase.table('politicians').select('id, name').eq('id', pid).execute()
        if result.data:
            politicians.append(result.data[0])

    return politicians
```

---

## 📋 다음 단계

### 즉시 실행

1. **스크립트 수정**: `collect_v24_batch_30.py`의 `get_30_politicians()` 함수 수정
2. **Grok 재수집**: 11명에 대해 Grok만 재수집
3. **신규 수집**: 19명 ChatGPT + Grok 전체 수집

### 실행 명령

```bash
# 수정된 스크립트로 재실행
python 설계문서_V6.0/실행스크립트/collect_v24_batch_30_FIXED.py

# 또는 개별 실행
python 설계문서_V6.0/실행스크립트/collect_v24_grok.py --politician_id=62e7b453 --politician_name="오세훈"
```

---

## 🔍 교훈

1. **명단 파일 확인 필수**: 자동으로 .limit(30) 사용하지 말고 명시적 ID 리스트 사용
2. **로그 vs DB 대조**: 로그만 믿지 말고 실제 DB 데이터 확인
3. **정치인 ID 매칭**: 이름이 아닌 ID로 정확히 매칭
4. **Grok API 모니터링**: Grok 수집 실패 원인 파악 필요

---

**보고서 작성 완료**: 2025-11-28 03:59 KST
**작성자**: Claude Code (Sonnet 4.5)
**상태**: 전임 세션 문제 파악 완료, 재수집 준비
