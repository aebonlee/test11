# V26.0 풀링 기반 평가 시스템 전체 프로세스

**작성일**: 2026-01-04
**버전**: V26.0
**상태**: 설계 완료
**원본 위치**: `0-3_AI_Evaluation_Engine/설계문서_V7.0/V26_풀링_전체프로세스.md`

---

## 핵심 요약

### 풀링 방식이란?
- **"모두가 찾은 것을 각자가 평가"**
- 4개 AI가 각각 50개 수집 → 200개 풀 완성
- 4개 AI가 각각 200개 전체 평가 → 800개 평가

### 왜 풀링인가?
1. **타이밍 분리 = 객관성**: 수집 AI ≠ 평가 AI (같은 AI도 다른 세션)
2. **교차 검증**: 4개 다른 AI가 같은 데이터 평가
3. **자연 가중치**: 중복 수집 = 자동 가중치

---

## 전체 프로세스 흐름

```
[0단계] 메인 에이전트
    │
    │ python collect_v26_pool.py --politician_id=...
    ▼
[1단계] Python → 4개 AI API 호출 (수집 프롬프트)
    │   참조: instructions/category_N_*.md
    │   ⚠️ rating 없이 데이터만 수집!
    ▼
[2단계] Python → DB 저장 (rating NULL)
    │   테이블: collected_data_v26
    │   200개/카테고리
    ▼
[3단계] Python → 풀 완성 확인 (200개?)
    │
    │ python evaluate_v26_pool.py --politician_id=...
    ▼
[4단계] Python → 4개 AI API 호출 (평가 프롬프트)
    │   참조: instructions/category_N_*.md
    │   200개 전체에 rating A~H 부여
    │   ⚠️ 새로운 세션 = 독립 판단 = 객관성
    ▼
[5단계] Python → DB 저장 (평가 결과)
    │   테이블: ai_ratings_v26 (신규)
    │   800개/카테고리 (4 AI × 200개)
    │
    │ python calculate_v26_scores.py --politician_id=...
    ▼
[6단계] Python → 점수 계산
    │   참조: V24_점수계산_알고리즘_상세가이드.md
    │   ※ AI 호출 없음! Python이 직접 계산
    │   공식: (6.0 + avg_rating × 0.5) × 10
    ▼
[7단계] Python → 등급 산출
    │   참조: 등급체계_10단계_200-1000점_V24.md
    │   ※ AI 호출 없음! Python이 등급표 적용
    ▼
[8단계] Python → 결과 저장 + 메인 에이전트 → 보고
```

---

## 참조 파일 목록

| 단계 | 참조 파일 | 용도 |
|------|----------|------|
| 0단계 | CLAUDE.md | 메인 에이전트 작업 지침 |
| 0단계 | 30명_정치인_명단.md | 대상 정치인 목록 |
| 1단계 | V26_수집지침_및_프로세스.md | 기간 제한, 수집 구조 |
| 1단계 | V26_멀티AI_구현계획.md | AI별 API 설정 |
| 1단계 | instructions/category_N_*.md | 카테고리별 수집 프롬프트 |
| 4단계 | instructions/category_N_*.md | 카테고리별 평가 프롬프트 |
| 6단계 | V24_점수계산_알고리즘_상세가이드.md | 점수 계산 공식 |
| 7단계 | 등급체계_10단계_200-1000점_V24.md | 등급 기준표 |

---

## 신규 작성 필요 항목

### 스크립트
| 스크립트 | 역할 | 상태 |
|---------|------|------|
| collect_v26_pool.py | 수집 (rating 없이) | **[신규 작성 필요]** |
| evaluate_v26_pool.py | 평가 (200개 풀 전체) | **[신규 작성 필요]** |

### DB 테이블
| 테이블 | 역할 | 상태 |
|--------|------|------|
| ai_ratings_v26 | 평가 결과 (800개) | **[신규 생성 필요]** |

---

## 역할 분담

### 메인 에이전트 (Claude Code)
- 전체 프로세스 조율
- Python 스크립트 실행 지시
- 결과 보고

### Python 스크립트
- AI API 호출 (수집/평가)
- DB 저장/조회
- 점수 계산 (AI 없이 직접!)
- 등급 산출 (AI 없이 직접!)

### 4개 AI (Claude, ChatGPT, Grok, Gemini)
- 1단계: 데이터 수집 (rating 없이)
- 4단계: 데이터 평가 (rating A~H)
- ※ 점수 계산/등급 산출은 하지 않음!

---

**최종 업데이트**: 2026-01-04
**버전**: V26.0
