# V7.0 설계문서 생성 완료 보고서

**작성일**: 2026-01-04
**작업자**: Claude Code (Opus 4.5)
**상태**: ✅ 완료

---

## 작업 요약

V6.0 → V7.0 설계문서 업그레이드 완료. V26.0 수집 규칙 적용.

### 핵심 변경사항

| 항목 | V6.0 (이전) | V7.0 (변경) |
|------|-------------|-------------|
| AI 개수 | 3개 (Claude, ChatGPT, Grok) | **4개 (+Gemini)** |
| OFFICIAL 기간 | 제한 없음 | **평가일 기준 4년 이내** |
| PUBLIC 기간 | 제한 없음 | **평가일 기준 1년 이내** |
| 수집 규칙 버전 | V24.0/V25.0 | **V26.0** |
| 데이터 풀 크기 | 150개/카테고리 | **200개/카테고리** |

---

## 생성된 파일 목록

### 설계문서_V7.0/ 구조

```
설계문서_V7.0/
├── README.md                    [신규] 전체 구조 및 빠른 시작
├── CLAUDE.md                    [신규] Claude Code 작업 지침
├── .env.example                 [수정] 4개 AI 키 포함
├── requirements.txt             [수정] google-generativeai 추가
│
├── V26_수집지침_및_프로세스.md   [신규] 기간 제한 규칙 상세
├── V26_멀티AI_구현계획.md        [신규] 4개 AI 체제 상세
│
├── Database/
│   └── migration_v24_to_v26.sql [신규] V24 백업 SQL
│
└── 실행스크립트/
    ├── collect_v26_claude.py    [신규] Claude 수집 (기간 제한)
    ├── collect_v26_chatgpt.py   [신규] ChatGPT 수집 (기간 제한)
    ├── collect_v26_grok.py      [신규] Grok 수집 (기간 제한)
    ├── collect_v26_gemini.py    [신규] Gemini 수집 (V26 신규)
    ├── collect_v26_all.py       [신규] 4개 AI 일괄 수집
    ├── backup_v24_data.py       [신규] V24 데이터 백업
    └── clear_for_v26.py         [신규] V26 수집 전 초기화
```

### 유지된 파일 (V6.0에서 복사)

- `30명_정치인_명단.md`
- `등급체계_10단계_200-1000점_V24.md`
- `V24_점수계산_알고리즘_상세가이드.md`
- `V24_전체_카테고리_정의_개선_완료.md`
- `Database/` 전체 (스키마 동일)
- `instructions/` 전체 (10개 카테고리)
- `연구자료/` 전체 (학술 근거)
- `calculate_v24_scores_correct.py`
- `generate_ranking_simple.py`

---

## V26.0 기간 제한 상세

### 규칙

```python
evaluation_date = datetime.now()  # 2026-01-04

# OFFICIAL 데이터: 4년 이내
official_range = "2022-01-04 ~ 2026-01-04"

# PUBLIC 데이터: 1년 이내
public_range = "2025-01-04 ~ 2026-01-04"
```

### 근거

**OFFICIAL 4년**:
- 지방자치단체장/국회의원 임기 = 4년
- 한 임기 동안의 실적 평가에 충분
- 너무 오래된 기록은 현재 역량과 괴리

**PUBLIC 1년**:
- 언론 보도는 최신성이 생명
- 1년 전 SNS 게시물은 현재 입장과 다를 수 있음
- 변별력 향상 (최신 활동 중심 평가)

---

## 4개 AI 체제

| AI | 모델 | 특징 | 예상 비용/정치인 |
|----|------|------|-----------------|
| Claude | claude-3-5-haiku-20241022 | 균형잡힌 평가 | $0.4~0.8 |
| ChatGPT | gpt-4o-mini | 보수적 평가 | $0.3~0.8 |
| Grok | grok-3-mini | 현실감 있는 평가 | $0.3~0.8 |
| **Gemini** | gemini-2.0-flash | 빠른 처리 | $0.2~0.5 |

**총 예상 비용**: ~$1.0/정치인 (30명 = ~$30)

---

## 다음 단계

### 1. V24.0 데이터 백업 (필수)

```bash
cd 설계문서_V7.0/실행스크립트

# 백업 실행
python backup_v24_data.py

# 백업 확인
python backup_v24_data.py --verify
```

### 2. 원본 테이블 초기화

```bash
# 주의: 백업 확인 후에만 실행!
python clear_for_v26.py --confirm
```

### 3. V26.0 데이터 수집

```bash
# 4개 AI 일괄 수집 (병렬)
python collect_v26_all.py --politician_id=62e7b453 --politician_name="오세훈" --parallel
```

### 4. 점수 계산 및 비교

```bash
python calculate_v24_scores_correct.py
# V24 vs V26 비교 분석
```

---

## 주의사항

1. **Gemini API 키 필수**: `.env`에 `GEMINI_API_KEY` 추가 필요
2. **백업 먼저**: V26.0 수집 전 반드시 V24.0 데이터 백업
3. **비교 불가**: V24.0과 V26.0 데이터는 직접 비교 불가 (기간, AI 개수 다름)

---

## 완료 시간

- 시작: 2026-01-04 02:30
- 완료: 2026-01-04 10:35
- 소요: 약 8시간 (이전 세션 포함)

---

**보고서 작성**: Claude Code (Opus 4.5)
**검증 상태**: 파일 생성 완료, 실행 테스트 필요
