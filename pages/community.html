<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì»¤ë®¤ë‹ˆí‹° - PoliticianFinder</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316',
                            600: '#ea580c',
                            700: '#c2410c',
                            800: '#9a3412',
                            900: '#7c2d12',
                        },
                        secondary: {
                            500: '#8b5cf6',
                            600: '#7c3aed',
                        },
                        accent: {
                            500: '#064E3B',
                            600: '#064E3B',
                        }
                    }
                }
            }
        }

    </script>

    <!-- Google Fonts: Noto Sans KR -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'system-ui', sans-serif;
            color: #000000;
        }

        /* íŒ”ë¡œìš° í† ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes slide-in {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fade-out {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        .animate-slide-in {
            animation: slide-in 0.3s ease-out;
        }

        .animate-fade-out {
            animation: fade-out 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50 border-b-2 border-primary-500">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo & Catchphrase -->
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="text-2xl font-bold text-primary-600">
                        PoliticianFinder
                    </a>
                    <div class="hidden md:block w-48">
                        <div class="font-bold text-gray-900" style="font-size: clamp(0.5rem, 3vw, 1rem); width: 100%;">í›Œë¥­í•œ ì •ì¹˜ì¸ ì°¾ê¸°</div>
                        <div class="text-gray-900 font-medium" style="font-size: clamp(0.38rem, 2.28vw, 0.7125rem); width: 100%;">AI ê¸°ë°˜ ì •ì¹˜ì¸ í‰ê°€ í”Œë«í¼</div>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="index.html" class="text-gray-900 hover:text-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1">í™ˆ</a>
                    <a href="politicians.html" class="text-gray-900 hover:text-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1">ì •ì¹˜ì¸</a>
                    <a href="community.html" class="text-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1">ì»¤ë®¤ë‹ˆí‹°</a>
                    <a href="services.html" class="text-gray-900 hover:text-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1">ì—°ê²°</a>

                    <!-- ì•Œë¦¼ ì•„ì´ì½˜ -->
                    <a href="notifications.html" class="relative text-gray-900 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 rounded p-1">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                        </svg>
                        <!-- ì•Œë¦¼ ë°°ì§€ (ìƒˆ ì•Œë¦¼ ìˆì„ ë•Œ) -->
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">3</span>
                    </a>
                </div>

                <!-- Auth Buttons -->
                <div class="hidden md:flex items-center space-x-3">
                    <a href="login.html" class="text-gray-900 hover:text-primary-600 font-medium px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-300 rounded">ë¡œê·¸ì¸</a>
                    <a href="signup.html" class="bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300">íšŒì›ê°€ì…</a>
                </div>

                <!-- Mobile menu button & notification -->
                <div class="md:hidden flex items-center space-x-3">
                    <!-- ì•Œë¦¼ ì•„ì´ì½˜ (ëª¨ë°”ì¼) -->
                    <a href="notifications.html" class="relative text-gray-900 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 rounded p-1">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                        </svg>
                        <!-- ì•Œë¦¼ ë°°ì§€ (ìƒˆ ì•Œë¦¼ ìˆì„ ë•Œ) -->
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center text-xs">3</span>
                    </a>
                    <button id="mobile-menu-button" class="text-gray-900 hover:text-primary-600 focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <div class="flex flex-col space-y-2">
                    <a href="index.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">í™ˆ</a>
                    <a href="politicians.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">ì •ì¹˜ì¸</a>
                    <a href="community.html" class="text-primary-600 font-medium px-2 py-2">ì»¤ë®¤ë‹ˆí‹°</a>
                    <a href="services.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">ì—°ê²°</a>
                    <hr class="my-2">
                    <a href="login.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">ë¡œê·¸ì¸</a>
                    <a href="signup.html" class="bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 font-medium text-center">íšŒì›ê°€ì…</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- Page Title -->
        <div class="mb-6">
            <p class="text-lg text-gray-600">ì •ì¹˜ ê´€ë ¨ ìì‹ ì˜ ì£¼ì¥ì„ í•˜ê³  ë‹¤ì–‘í•œ ì˜ê²¬ì„ ë‚˜ëˆ„ë©´ì„œ í† ë¡ í•´ ë³´ì„¸ìš”</p>
        </div>

        <!-- ê²Œì‹œê¸€ ê²€ìƒ‰ -->
        <section class="bg-white rounded-lg shadow-lg p-4 mb-6">
            <div class="relative flex gap-2">
                <div class="relative flex-1">
                    <input type="text" id="community-search-input" placeholder="ì œëª©, ë‚´ìš©, ì‘ì„±ì ë“±ìœ¼ë¡œ ê²Œì‹œê¸€ í†µí•©ê²€ìƒ‰" class="w-full px-4 py-3 pl-12 border-2 border-primary-300 rounded-lg focus:outline-none focus:border-primary-500 text-gray-900 focus:ring-2 focus:ring-primary-200">
                    <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
                <button id="community-search-button" class="px-8 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 font-semibold text-sm shadow-sm">
                    ê²€ìƒ‰
                </button>
            </div>
        </section>

        <!-- Tab Menu + Write Button -->
        <div class="flex items-center justify-between mb-6">
            <!-- Tabs (ê· ë“± ë„ˆë¹„) -->
            <div class="flex items-center space-x-4 overflow-x-auto">
                <button onclick="filterCategory('all')" id="tab-all" class="flex-1 px-4 py-2 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 transition whitespace-nowrap text-center min-w-[160px]">
                    ì „ì²´
                </button>
                <button onclick="filterCategory('politician_post')" id="tab-politician_post" class="flex-1 px-4 py-2 bg-white text-gray-700 rounded-lg border-2 border-primary-500 font-medium hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-300 transition whitespace-nowrap text-center min-w-[160px]">
                    ğŸ›ï¸ ì •ì¹˜ì¸ ê²Œì‹œíŒ
                </button>
                <button onclick="filterCategory('general')" id="tab-general" class="flex-1 px-4 py-2 bg-white text-gray-700 rounded-lg border-2 border-purple-600 font-medium hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-300 transition whitespace-nowrap text-center min-w-[160px]">
                    ğŸ’¬ íšŒì› ììœ ê²Œì‹œíŒ
                </button>
            </div>

            <!-- Write Button -->
            <button id="write-button" onclick="handleWriteClick()" class="px-6 py-2 bg-primary-500 text-white rounded-lg font-medium hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 transition whitespace-nowrap shadow-md">
                ê¸€ì“°ê¸°
            </button>
        </div>

        <!-- Sort Options -->
        <div class="flex items-center justify-between mb-4">
            <div class="text-sm text-gray-600">
                ì´ <span id="post-count" class="font-bold text-gray-900">0</span>ê°œì˜ ê²Œì‹œê¸€
            </div>
            <div class="flex items-center space-x-2">
                <select id="sort-select" onchange="sortPosts()" class="px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-300">
                    <option value="latest">ìµœì‹ ìˆœ</option>
                    <option value="popular">ê³µê°ìˆœ</option>
                    <option value="views">ì¡°íšŒìˆœ</option>
                </select>
            </div>
        </div>

        <!-- Post List -->
        <div id="post-list" class="space-y-4">
            <!-- Posts will be dynamically loaded here -->
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="hidden text-center py-16">
            <p class="text-gray-500 text-lg">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤</p>
        </div>

    </div>
<!-- Category Selection Modal -->
    <div id="category-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">ì¹´í…Œê³ ë¦¬ ì„ íƒ</h2>
            <p class="text-gray-600 mb-6">ì–´ë–¤ ê²Œì‹œíŒì— ê¸€ì„ ì‘ì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
            
            <div class="space-y-3">
                <!-- ì •ì¹˜ì¸ ê²Œì‹œíŒ -->
                <a href="write-post_politician.html" class="block w-full px-6 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition text-center font-medium shadow-sm border-4 border-primary-600">
                    ğŸ›ï¸ ì •ì¹˜ì¸ ê²Œì‹œíŒ
                </a>
                
                <!-- íšŒì› ììœ ê²Œì‹œíŒ -->
                <a href="write-post_member.html" class="block w-full px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition text-center font-medium shadow-sm border-4 border-purple-700">
                    ğŸ’¬ íšŒì› ììœ ê²Œì‹œíŒ
                </a>
            </div>
            
            <button onclick="closeCategoryModal()" class="mt-4 w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-medium">
                ì·¨ì†Œ
            </button>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-primary-500 text-white mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <!-- Footer Links -->
            <div class="flex justify-center items-center space-x-8 text-base py-4">
                <a href="services.html" class="text-white hover:text-gray-100 transition font-medium">ì„œë¹„ìŠ¤ ì†Œê°œ</a>
                <a href="terms.html" class="text-white hover:text-gray-100 transition font-medium">ì´ìš©ì•½ê´€</a>
                <a href="privacy.html" class="text-white hover:text-gray-100 transition font-medium">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="support.html" class="text-white hover:text-gray-100 transition font-medium">ê³ ê°ì„¼í„°</a>
            </div>
            <!-- Copyright -->
            <div class="text-center text-base text-white py-4">
                <p>&copy; 2025 PoliticianFinder. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Global variables
        let allPosts = [];
        let currentCategory = 'all';
        let currentSort = 'latest';
        let currentSearchTerm = '';
        let currentShareUrl = '';
        let currentShareTitle = '';

        // Sample data (fallback) - ì¹´í…Œê³ ë¦¬: politician_post, general ë§Œ ì‚¬ìš©
        const samplePosts = [
            {
                        "id": 1,
                        "title": "ì²­ë…„ ì¼ìë¦¬ ê³µì•½, ì‹¤í˜„ ê°€ëŠ¥ì„±ì€?",
                        "content": "ìµœê·¼ ì—¬ëŸ¬ ì •ì¹˜ì¸ë“¤ì´ ì²­ë…„ ì¼ìë¦¬ ì°½ì¶œì„ ê³µì•½ìœ¼ë¡œ ë‚´ì„¸ìš°ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ êµ¬ì²´ì ì¸ ì‹¤í–‰ ê³„íšì´ ë¶€ì¡±í•´ ë³´ì…ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì€ ì–´ë– ì‹ ê°€ìš”?",
                        "category": "general",
                        "author": "ì •ì¹˜ëŠ”ìš°ë¦¬ì˜ê²ƒ",
                        "author_id": "user_7659",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 12,
                        "downvotes": 2,
                        "score": 10,
                        "views": 157,
                        "comment_count": 4,
                        "tags": [
                                    "ì²­ë…„ì •ì±…",
                                    "ì¼ìë¦¬",
                                    "ê³µì•½ê²€ì¦"
                        ],
                        "is_pinned": true,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-13T19:58:04.407753Z"
            },
            {
                        "id": 2,
                        "title": "ì§€ì—­ êµí†µ ì¸í”„ë¼ ê°œì„  ì˜ˆì‚°ì•ˆì— ëŒ€í•´",
                        "content": "ìš°ë¦¬ ì§€ì—­ êµí†µ ì¸í”„ë¼ ê°œì„ ì„ ìœ„í•œ ì˜ˆì‚°ì•ˆì´ í†µê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹œë¯¼ë“¤ì˜ ì‹¤ìƒí™œì— í° ë„ì›€ì´ ë  ê²ƒìœ¼ë¡œ ê¸°ëŒ€ë©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "íˆ¬ëª…í•œì •ì¹˜",
                        "author_id": "user_2572",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 76,
                        "downvotes": 4,
                        "score": 72,
                        "views": 766,
                        "comment_count": 2,
                        "tags": [
                                    "êµí†µ",
                                    "ì¸í”„ë¼",
                                    "ì˜ˆì‚°"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-18T23:58:04.407753Z"
            },
            {
                        "id": 3,
                        "title": "ì •ì¹˜ì¸ í‰ê°€ ì‹œìŠ¤í…œ, ì–´ë–»ê²Œ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œìš”?",
                        "content": "í˜„ì¬ í”Œë«í¼ì˜ ì •ì¹˜ì¸ í‰ê°€ ì‹œìŠ¤í…œì— ëŒ€í•œ ì˜ê²¬ì„ ë‚˜ëˆ„ê³  ì‹¶ìŠµë‹ˆë‹¤. AI í‰ê°€ì™€ íšŒì› í‰ê°€ì˜ ê· í˜•ì„ ì–´ë–»ê²Œ ë§ì¶°ì•¼ í• ê¹Œìš”?",
                        "category": "general",
                        "author": "íˆ¬ëª…í•œì •ì¹˜",
                        "author_id": "user_6952",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 79,
                        "downvotes": 13,
                        "score": 66,
                        "views": 480,
                        "comment_count": 4,
                        "tags": [
                                    "í‰ê°€ì‹œìŠ¤í…œ",
                                    "ê°œì„ ì œì•ˆ",
                                    "AI"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": true,
                        "created_at": "2025-10-23T12:58:04.407753Z"
            },
            {
                        "id": 4,
                        "title": "ì¤‘ì†Œê¸°ì—… ì§€ì› ì •ì±…ì˜ ì‹¤íš¨ì„±",
                        "content": "ì¤‘ì†Œê¸°ì—… ì§€ì› ì •ì±…ë“¤ì´ ë§ì´ ë°œí‘œë˜ì§€ë§Œ, ì‹¤ì œë¡œ ì¤‘ì†Œê¸°ì—…ì„ ìš´ì˜í•˜ëŠ” ì…ì¥ì—ì„œëŠ” ì²´ê°ì´ ì˜ ì•ˆ ë©ë‹ˆë‹¤. í˜„ì¥ì˜ ëª©ì†Œë¦¬ë¥¼ ì •ì±…ì— ë°˜ì˜í•  ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ì‹œë¯¼ì°¸ì—¬ì",
                        "author_id": "user_6952",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 26,
                        "downvotes": 1,
                        "score": 25,
                        "views": 153,
                        "comment_count": 1,
                        "tags": [
                                    "ì¤‘ì†Œê¸°ì—…",
                                    "ê²½ì œì •ì±…",
                                    "í˜„ì¥ëª©ì†Œë¦¬"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-09-25T11:58:04.407753Z"
            },
            {
                        "id": 5,
                        "title": "êµìœ¡ ê°œí˜ì•ˆ, ì°¬ë°˜ ì˜ê²¬ ë‚˜ëˆ ë´ìš”",
                        "content": "ìƒˆë¡œìš´ êµìœ¡ ê°œí˜ì•ˆì´ ë°œí‘œë˜ì—ˆìŠµë‹ˆë‹¤. í•™ìƒ, í•™ë¶€ëª¨, êµì‚¬ ëª¨ë‘ì˜ ì…ì¥ì—ì„œ ë‹¤ì–‘í•œ ì˜ê²¬ì„ ë“£ê³  ì‹¶ìŠµë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ë¯¼ì£¼ì‹œë¯¼",
                        "author_id": "user_8649",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 13,
                        "downvotes": 2,
                        "score": 11,
                        "views": 138,
                        "comment_count": 3,
                        "tags": [
                                    "êµìœ¡",
                                    "ê°œí˜ì•ˆ",
                                    "í† ë¡ "
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-06T14:58:04.407753Z"
            },
            {
                        "id": 6,
                        "title": "ë³µì§€ ì •ì±… í™•ëŒ€, ì¬ì› ë§ˆë ¨ì€?",
                        "content": "ë³µì§€ ì •ì±… í™•ëŒ€ì—ëŠ” ëª¨ë‘ ì°¬ì„±í•˜ì§€ë§Œ, ì¬ì› ë§ˆë ¨ ë°©ì•ˆì— ëŒ€í•´ì„œëŠ” ì˜ê²¬ì´ ë¶„ë¶„í•©ë‹ˆë‹¤. ì¦ì„¸ vs ì¬ì • íš¨ìœ¨í™”, ì–´ë–¤ ë°©ë²•ì´ ë” í•©ë¦¬ì ì¼ê¹Œìš”?",
                        "category": "general",
                        "author": "íˆ¬í‘œí•˜ëŠ”ì‹œë¯¼",
                        "author_id": "user_7348",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 52,
                        "downvotes": 11,
                        "score": 41,
                        "views": 490,
                        "comment_count": 2,
                        "tags": [
                                    "ë³µì§€",
                                    "ì¬ì •",
                                    "ì¦ì„¸"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-04T13:58:04.407753Z"
            },
            {
                        "id": 7,
                        "title": "í™˜ê²½ ì •ì±… ê³µì•½ ë¹„êµ ë¶„ì„",
                        "content": "ê° ì •ë‹¹ì˜ í™˜ê²½ ì •ì±… ê³µì•½ì„ ë¹„êµ ë¶„ì„í•´ë´¤ìŠµë‹ˆë‹¤. ì‹¤í˜„ ê°€ëŠ¥ì„±ê³¼ íš¨ê³¼ì„± ì¸¡ë©´ì—ì„œ í‰ê°€í•´ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ì •ì¹˜ëŠ”ìš°ë¦¬ì˜ê²ƒ",
                        "author_id": "user_9507",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 112,
                        "downvotes": 22,
                        "score": 90,
                        "views": 939,
                        "comment_count": 6,
                        "tags": [
                                    "í™˜ê²½",
                                    "ê¸°í›„ë³€í™”",
                                    "ê³µì•½ë¹„êµ"
                        ],
                        "is_pinned": false,
                        "is_best": true,
                        "is_hot": false,
                        "created_at": "2025-10-12T20:58:04.407753Z"
            },
            {
                        "id": 8,
                        "title": "ì§€ì—­ ë°œì „ ì •ì±…ì— ëŒ€í•œ ì˜ê²¬",
                        "content": "ìš°ë¦¬ ì§€ì—­ ë°œì „ì„ ìœ„í•œ ì •ì±…ë“¤ì´ í•„ìš”í•©ë‹ˆë‹¤. ì§€ì—­ ì£¼ë¯¼ë“¤ì˜ ì‹¤ì§ˆì ì¸ ì˜ê²¬ì„ ëª¨ì•„ ì •ì¹˜ì¸ë“¤ì—ê²Œ ì „ë‹¬í•˜ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ë¯¼ìƒì´ìš°ì„ ",
                        "author_id": "user_6505",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 132,
                        "downvotes": 25,
                        "score": 107,
                        "views": 779,
                        "comment_count": 2,
                        "tags": [
                                    "ì§€ì—­ë°œì „",
                                    "ì£¼ë¯¼ì°¸ì—¬",
                                    "ì •ì±…ì œì•ˆ"
                        ],
                        "is_pinned": false,
                        "is_best": true,
                        "is_hot": false,
                        "created_at": "2025-10-01T06:58:04.407753Z"
            },
            {
                        "id": 9,
                        "title": "ê³µê³µì˜ë£Œ í™•ëŒ€ ì •ì±… ì–´ë–»ê²Œ ë³´ì‹œë‚˜ìš”?",
                        "content": "ê³µê³µì˜ë£Œ í™•ëŒ€ ì •ì±…ì´ ë°œí‘œë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ë£Œ ì ‘ê·¼ì„± í–¥ìƒì— ë„ì›€ì´ ë ì§€, ì˜ë£Œ ì„œë¹„ìŠ¤ ì§ˆì—ëŠ” ì–´ë–¤ ì˜í–¥ì´ ìˆì„ì§€ í† ë¡ í•´ë´…ì‹œë‹¤.",
                        "category": "general",
                        "author": "ë¯¸ë˜ì„¸ëŒ€",
                        "author_id": "user_4493",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 50,
                        "downvotes": 7,
                        "score": 43,
                        "views": 575,
                        "comment_count": 4,
                        "tags": [
                                    "ì˜ë£Œ",
                                    "ê³µê³µì˜ë£Œ",
                                    "ë³´ê±´ì •ì±…"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-02T04:58:04.407753Z"
            },
            {
                        "id": 10,
                        "title": "ë¶€ë™ì‚° ì •ì±…, ì‹¤ìˆ˜ìš”ì ë³´í˜¸ëŠ”?",
                        "content": "ìµœê·¼ ë¶€ë™ì‚° ì •ì±…ë“¤ì´ ì—°ì´ì–´ ë°œí‘œë˜ê³  ìˆìŠµë‹ˆë‹¤. íˆ¬ê¸° ì–µì œë„ ì¤‘ìš”í•˜ì§€ë§Œ ì‹¤ìˆ˜ìš”ì ë³´í˜¸ ë°©ì•ˆë„ ì¶©ë¶„íˆ ê³ ë ¤ë˜ì—ˆëŠ”ì§€ ê¶ê¸ˆí•©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "íˆ¬í‘œí•˜ëŠ”ì‹œë¯¼",
                        "author_id": "user_9585",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 27,
                        "downvotes": 1,
                        "score": 26,
                        "views": 369,
                        "comment_count": 1,
                        "tags": [
                                    "ë¶€ë™ì‚°",
                                    "ì£¼íƒì •ì±…",
                                    "ì‹¤ìˆ˜ìš”ì"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-01T17:58:04.407753Z"
            },
            {
                        "id": 11,
                        "title": "ë””ì§€í„¸ ì „í™˜ ì •ì±…, ì†Œì™¸ê³„ì¸µ ë°°ë ¤ëŠ”?",
                        "content": "ì •ë¶€ì˜ ë””ì§€í„¸ ì „í™˜ ì •ì±…ì´ ë¹ ë¥´ê²Œ ì§„í–‰ë˜ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë””ì§€í„¸ ì†Œì™¸ê³„ì¸µì— ëŒ€í•œ ë°°ë ¤ê°€ ë¶€ì¡±í•´ ë³´ì…ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ë³€í™”ë¥¼ì›í•´",
                        "author_id": "user_1065",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 36,
                        "downvotes": 6,
                        "score": 30,
                        "views": 322,
                        "comment_count": 4,
                        "tags": [
                                    "ë””ì§€í„¸",
                                    "í¬ìš©ì •ì±…",
                                    "ì†Œì™¸ê³„ì¸µ"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-06T02:58:04.407753Z"
            },
            {
                        "id": 12,
                        "title": "êµ­ë°© ì •ì±… ë°©í–¥ì„±ì— ëŒ€í•´",
                        "content": "ë³€í™”í•˜ëŠ” ì•ˆë³´ í™˜ê²½ ì†ì—ì„œ ìš°ë¦¬ë‚˜ë¼ êµ­ë°© ì •ì±…ì˜ ë°©í–¥ì„±ì— ëŒ€í•œ í† ë¡ ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ì‹œë¯¼ì°¸ì—¬ì",
                        "author_id": "user_9116",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 113,
                        "downvotes": 28,
                        "score": 85,
                        "views": 1040,
                        "comment_count": 4,
                        "tags": [
                                    "êµ­ë°©",
                                    "ì•ˆë³´",
                                    "ì •ì±…ë°©í–¥"
                        ],
                        "is_pinned": false,
                        "is_best": true,
                        "is_hot": false,
                        "created_at": "2025-10-09T16:58:04.407753Z"
            },
            {
                        "id": 13,
                        "title": "ì§€ë°© ì†Œë©¸ ìœ„ê¸°, ì–´ë–»ê²Œ í•´ê²°í• ê¹Œ?",
                        "content": "ì§€ë°© ì†Œë©¸ ìœ„ê¸°ê°€ ì‹¬ê°í•©ë‹ˆë‹¤. ì²­ë…„ ìœ ì¶œì„ ë§‰ê³  ì§€ì—­ ê²½ì œë¥¼ ì‚´ë¦´ ìˆ˜ ìˆëŠ” ì‹¤ì§ˆì ì¸ ì •ì±…ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ì‹œë¯¼ì°¸ì—¬ì",
                        "author_id": "user_2493",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 31,
                        "downvotes": 5,
                        "score": 26,
                        "views": 219,
                        "comment_count": 3,
                        "tags": [
                                    "ì§€ë°©ì†Œë©¸",
                                    "ì¸êµ¬ì •ì±…",
                                    "ì§€ì—­ê²½ì œ"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-08T19:58:04.407753Z"
            },
            {
                        "id": 14,
                        "title": "ì •ì¹˜ íˆ¬ëª…ì„± ì œê³  ë°©ì•ˆ",
                        "content": "ì •ì¹˜ ìê¸ˆ, ì •ì±… ê²°ì • ê³¼ì • ë“± ì •ì¹˜ì˜ íˆ¬ëª…ì„±ì„ ë†’ì´ê¸° ìœ„í•œ ë°©ì•ˆë“¤ì„ í•¨ê»˜ ë…¼ì˜í•´ë´…ì‹œë‹¤.",
                        "category": "general",
                        "author": "ë³€í™”ë¥¼ì›í•´",
                        "author_id": "user_3924",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 99,
                        "downvotes": 5,
                        "score": 94,
                        "views": 1119,
                        "comment_count": 2,
                        "tags": [
                                    "íˆ¬ëª…ì„±",
                                    "ì •ì¹˜ê°œí˜",
                                    "ì‹œë¯¼ì°¸ì—¬"
                        ],
                        "is_pinned": false,
                        "is_best": true,
                        "is_hot": false,
                        "created_at": "2025-10-12T23:58:04.407753Z"
            },
            {
                        "id": 15,
                        "title": "ê¸°í›„ ìœ„ê¸° ëŒ€ì‘ ì •ì±… ê¸´ê¸‰í•©ë‹ˆë‹¤",
                        "content": "ê¸°í›„ ìœ„ê¸°ê°€ í˜„ì‹¤ì´ ë˜ê³  ìˆìŠµë‹ˆë‹¤. ë” ëŠ¦ê¸° ì „ì— ì‹¤ì§ˆì ì¸ ëŒ€ì‘ ì •ì±…ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ê¹¨ì–´ìˆëŠ”ì‹œë¯¼",
                        "author_id": "user_3580",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 34,
                        "downvotes": 0,
                        "score": 34,
                        "views": 250,
                        "comment_count": 4,
                        "tags": [
                                    "ê¸°í›„ìœ„ê¸°",
                                    "í™˜ê²½",
                                    "ê¸´ê¸‰ëŒ€ì‘"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-02T20:58:04.407753Z"
            },
            {
                        "id": 16,
                        "title": "ìŠ¤íƒ€íŠ¸ì—… ì§€ì› ì •ì±…, í˜„ì¥ì˜ ëª©ì†Œë¦¬",
                        "content": "ìŠ¤íƒ€íŠ¸ì—… ì§€ì› ì •ì±…ë“¤ì´ ë§ì§€ë§Œ ì‹¤ì œ ìŠ¤íƒ€íŠ¸ì—… í˜„ì¥ì—ì„œëŠ” ì²´ê°ì´ ì–´ë µìŠµë‹ˆë‹¤. ì‹¤ì§ˆì ì¸ ì§€ì› ë°©ì•ˆì„ ì œì•ˆí•©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ì •ì±…ë¶„ì„ê°€",
                        "author_id": "user_9107",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 60,
                        "downvotes": 13,
                        "score": 47,
                        "views": 593,
                        "comment_count": 5,
                        "tags": [
                                    "ìŠ¤íƒ€íŠ¸ì—…",
                                    "ì°½ì—…ì§€ì›",
                                    "í˜„ì¥ëª©ì†Œë¦¬"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-09-29T00:58:04.407753Z"
            },
            {
                        "id": 17,
                        "title": "ë†ì—… ì •ì±…, ë†ë¯¼ë“¤ì˜ ì‹¤ì§ˆì  ë„ì›€ ë ê¹Œ?",
                        "content": "ë†ì—… ì •ì±…ë“¤ì´ ë°œí‘œë˜ê³  ìˆì§€ë§Œ ì‹¤ì œ ë†ë¯¼ë“¤ì—ê²Œ ì–¼ë§ˆë‚˜ ë„ì›€ì´ ë ì§€ ì˜ë¬¸ì…ë‹ˆë‹¤. ë†ì´Œ í˜„ì¥ì˜ ëª©ì†Œë¦¬ë¥¼ ë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ì‹œë¯¼ì°¸ì—¬ì",
                        "author_id": "user_3258",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 137,
                        "downvotes": 33,
                        "score": 104,
                        "views": 1668,
                        "comment_count": 2,
                        "tags": [
                                    "ë†ì—…",
                                    "ë†ì´Œì •ì±…",
                                    "ë†ë¯¼"
                        ],
                        "is_pinned": false,
                        "is_best": true,
                        "is_hot": false,
                        "created_at": "2025-10-20T19:58:04.407753Z"
            },
            {
                        "id": 18,
                        "title": "[ê³µì‹] ì²­ë…„ ì¼ìë¦¬ ì°½ì¶œ ì •ì±… ì„¤ëª…",
                        "content": "ì•ˆë…•í•˜ì„¸ìš”. ì²­ë…„ ì¼ìë¦¬ 2ë§Œê°œ ì°½ì¶œ ê³µì•½ì— ëŒ€í•´ êµ¬ì²´ì ì¸ ì‹¤í–‰ ê³„íšì„ ë§ì”€ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì¤‘ì†Œê¸°ì—… ì¸í„´ì‹­ í”„ë¡œê·¸ë¨ 1ë§Œê°œ, ê³µê³µë¶€ë¬¸ ì‹ ê·œ ì±„ìš© 5ì²œê°œ, ì°½ì—… ì§€ì› 5ì²œê°œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ì •ì¹˜ê´€ì‹¬ëŸ¬",
                        "author_id": "user_8918",
                        "author_type": "user",
                        "politician_id": null,
                        "upvotes": 16,
                        "downvotes": 5,
                        "score": 11,
                        "views": 109,
                        "comment_count": 1,
                        "tags": [
                                    "ì²­ë…„ì •ì±…",
                                    "ì¼ìë¦¬",
                                    "ê³µì•½ì„¤ëª…"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-12T02:58:04.407753Z"
            },
            {
                        "id": 19,
                        "title": "ìœ¡ì•„ ì§€ì› ì •ì±… í™•ëŒ€ í•„ìš”ì„±",
                        "content": "ì €ì¶œì‚° ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ì„œëŠ” ì‹¤ì§ˆì ì¸ ìœ¡ì•„ ì§€ì› ì •ì±… í™•ëŒ€ê°€ í•„ìˆ˜ì…ë‹ˆë‹¤. ë³´ìœ¡ë¹„ ì§€ì›, ìœ¡ì•„íœ´ì§ í™•ëŒ€ ë“±ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                        "category": "politician_post",
                        "author": "ğŸ›ï¸ ì„ìŠ¹í˜„",
                        "author_id": "politician_24",
                        "author_type": "politician",
                        "politician_id": 26,
                        "upvotes": 10,
                        "downvotes": 0,
                        "score": 10,
                        "views": 133,
                        "comment_count": 2,
                        "tags": [
                                    "ìœ¡ì•„",
                                    "ì €ì¶œì‚°",
                                    "ë³µì§€ì •ì±…"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-05T07:58:04.407753Z"
            },
            {
                        "id": 20,
                        "title": "ë¬¸í™” ì˜ˆìˆ  ì§€ì› ì •ì±… ì–´ë–»ê²Œ ë³´ì‹œë‚˜ìš”?",
                        "content": "ë¬¸í™” ì˜ˆìˆ  ë¶„ì•¼ì— ëŒ€í•œ ì§€ì› ì •ì±…ì´ ë¶€ì¡±í•˜ë‹¤ëŠ” ì˜ê²¬ì´ ë§ìŠµë‹ˆë‹¤. ì˜ˆìˆ ì¸ë“¤ì˜ ì•ˆì •ì ì¸ ì°½ì‘ í™œë™ì„ ìœ„í•œ ì§€ì› ë°©ì•ˆì´ í•„ìš”í•©ë‹ˆë‹¤.",
                        "category": "politician_post",
                        "author": "ğŸ›ï¸ ì‹ ì§€ë¯¼",
                        "author_id": "politician_15",
                        "author_type": "politician",
                        "politician_id": 4,
                        "upvotes": 10,
                        "downvotes": 0,
                        "score": 10,
                        "views": 57,
                        "comment_count": 3,
                        "tags": [
                                    "ë¬¸í™”",
                                    "ì˜ˆìˆ ",
                                    "ì§€ì›ì •ì±…"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-12T11:58:04.407753Z"
            },
            {
                        "id": 21,
                        "title": "ê¹€ë¯¼ì¤€ ì˜ì›ë‹˜ì˜ ì²­ë…„ ì •ì±…ì— ëŒ€í•´ ì˜ê²¬ ë“œë¦½ë‹ˆë‹¤",
                        "content": "ê¹€ë¯¼ì¤€ ì˜ì›ë‹˜ê»˜ì„œ ë°œí‘œí•˜ì‹  ì²­ë…„ ì¼ìë¦¬ 2ë§Œê°œ ì°½ì¶œ ê³µì•½ì— ëŒ€í•´ ëª‡ ê°€ì§€ ì˜ê²¬ì„ ë“œë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤. ì¤‘ì†Œê¸°ì—… ì¸í„´ì‹­ í”„ë¡œê·¸ë¨ì€ ì¢‹ì§€ë§Œ, ê¸‰ì—¬ ìˆ˜ì¤€ê³¼ ì •ê·œì§ ì „í™˜ìœ¨ì´ ëª…í™•í•˜ì§€ ì•Šì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.",
                        "category": "general",
                        "author": "ì²­ë…„ì •ì±…ì—°êµ¬",
                        "author_id": "user_8901",
                        "author_type": "user",
                        "politician_tag": "ê¹€ë¯¼ì¤€",
                        "politician_id": "pol_001",
                        "upvotes": 28,
                        "downvotes": 5,
                        "score": 23,
                        "views": 342,
                        "comment_count": 8,
                        "tags": [
                                    "ì²­ë…„ì •ì±…",
                                    "ì¼ìë¦¬",
                                    "ì •ì±…ì œì•ˆ"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": true,
                        "created_at": "2025-10-25T14:30:00.000000Z",
                        "politician_position": "êµ­íšŒì˜ì›",
                        "politician_status": "í˜„ì§"
            },
            {
                        "id": 22,
                        "title": "ì´ì„œì—° ë‹¨ì²´ì¥ë‹˜ì˜ êµí†µ ì •ì±… ê¶ê¸ˆí•©ë‹ˆë‹¤",
                        "content": "ê´‘ì£¼ ì„œêµ¬ì—ì„œ ì¶”ì§„ ì¤‘ì¸ ì§€í•˜ì²  ì—°ì¥ ì‚¬ì—…ì— ëŒ€í•´ ì´ì„œì—° ë‹¨ì²´ì¥ë‹˜ì˜ ì…ì¥ì´ ê¶ê¸ˆí•©ë‹ˆë‹¤. ì£¼ë¯¼ ì„¤ëª…íšŒëŠ” ì–¸ì œ ì—´ë¦¬ë‚˜ìš”?",
                        "category": "general",
                        "author": "ê´‘ì£¼ì‹œë¯¼",
                        "author_id": "user_8902",
                        "author_type": "user",
                        "politician_tag": "ì´ì„œì—°",
                        "politician_id": "pol_002",
                        "upvotes": 15,
                        "downvotes": 2,
                        "score": 13,
                        "views": 218,
                        "comment_count": 5,
                        "tags": [
                                    "êµí†µ",
                                    "ì§€ì—­ê°œë°œ",
                                    "ì§ˆë¬¸"
                        ],
                        "is_pinned": false,
                        "is_best": false,
                        "is_hot": false,
                        "created_at": "2025-10-26T09:15:00.000000Z",
                        "politician_position": "ê´‘ì—­ë‹¨ì²´ì¥",
                        "politician_status": "í˜„ì§"
            },
            {
                        "id": 23,
                        "title": "ë°•ì¤€ì„œ ì˜ì›ì˜ í™˜ê²½ ì •ì±… ì§€ì§€í•©ë‹ˆë‹¤",
                        "content": "ë°•ì¤€ì„œ ì˜ì›ë‹˜ê»˜ì„œ ì¶”ì§„í•˜ì‹œëŠ” íƒ„ì†Œì¤‘ë¦½ ì •ì±…ì— ì „ì ìœ¼ë¡œ ë™ì˜í•©ë‹ˆë‹¤. íŠ¹íˆ ì¬ìƒì—ë„ˆì§€ í™•ëŒ€ ë°©ì•ˆì´ ë§¤ìš° ì‹¤ì§ˆì ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.",
                        "category": "general",
                        "author": "í™˜ê²½ì§€í‚´ì´",
                        "author_id": "user_8903",
                        "author_type": "user",
                        "politician_tag": "ë°•ì¤€ì„œ",
                        "politician_id": "pol_003",
                        "upvotes": 42,
                        "downvotes": 3,
                        "score": 39,
                        "views": 456,
                        "comment_count": 12,
                        "tags": [
                                    "í™˜ê²½",
                                    "íƒ„ì†Œì¤‘ë¦½",
                                    "ì‘ì›"
                        ],
                        "is_pinned": false,
                        "is_best": true,
                        "is_hot": true,
                        "created_at": "2025-10-25T11:20:00.000000Z",
                        "politician_position": "ê¸°ì´ˆë‹¨ì²´ì¥",
                        "politician_status": "í˜„ì§"
            }
        ];

        // Load posts from JSON
        async function loadPosts() {
            try {
                let response = await fetch('../assets/community-data.json');
                if (!response.ok) {
                    throw new Error('Failed to load JSON');
                }
                const data = await response.json();
                allPosts = data.posts;
                renderPosts();
            } catch (error) {
                console.warn('JSON íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨, ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš©:', error.message);
                allPosts = samplePosts;
                renderPosts();
            }
        }

        // Filter by category
        function filterCategory(category) {
            currentCategory = category;

            // Update tab styles
            document.querySelectorAll('[id^="tab-"]').forEach(tab => {
                if (tab.id === `tab-${category}`) {
                    tab.classList.remove('bg-white', 'text-gray-700');
                    if (category === 'general') {
                        tab.classList.add('bg-secondary-500', 'text-white');
                    } else {
                        tab.classList.add('bg-primary-500', 'text-white');
                    }
                } else {
                    tab.classList.remove('bg-primary-500', 'bg-secondary-500', 'text-white');
                    tab.classList.add('bg-white', 'text-gray-700');
                }
            });

            // Update write button color
            const writeButton = document.getElementById('write-button');
            if (category === 'general') {
                writeButton.classList.remove('bg-primary-500', 'hover:bg-primary-600', 'focus:ring-primary-300');
                writeButton.classList.add('bg-secondary-500', 'hover:bg-secondary-600', 'focus:ring-secondary-300');
            } else {
                writeButton.classList.remove('bg-secondary-500', 'hover:bg-secondary-600', 'focus:ring-secondary-300');
                writeButton.classList.add('bg-primary-500', 'hover:bg-primary-600', 'focus:ring-primary-300');
            }

            renderPosts();
        }

        // Sort posts
        function sortPosts() {
            currentSort = document.getElementById('sort-select').value;
            renderPosts();
        }

        // Render posts
        function renderPosts() {
            let posts = allPosts;

            // Filter by search term
            if (currentSearchTerm) {
                posts = posts.filter(post => {
                    const searchableText = `${post.title} ${post.content} ${post.author}`.toLowerCase();
                    return searchableText.includes(currentSearchTerm.toLowerCase());
                });
            }

            // Filter by category
            if (currentCategory !== 'all') {
                posts = posts.filter(post => post.category === currentCategory);
            }

            // Sort posts
            if (currentSort === 'latest') {
                posts.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
            } else if (currentSort === 'popular') {
                posts.sort((a, b) => b.score - a.score);
            } else if (currentSort === 'views') {
                posts.sort((a, b) => b.views - a.views);
            }

            // Update count
            document.getElementById('post-count').textContent = posts.length;

            // Render
            const postList = document.getElementById('post-list');
            const emptyState = document.getElementById('empty-state');

            if (posts.length === 0) {
                postList.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }

            emptyState.classList.add('hidden');
            postList.innerHTML = posts.map(post => createPostCard(post)).join('');

            // Attach listeners after rendering
            attachActionListeners();
        }

        // Create post card HTML
        function createPostCard(post) {
            const date = new Date(post.created_at);
            const formattedDateTime = `${date.getFullYear()}.${String(date.getMonth() + 1).padStart(2, '0')}.${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;

            const badges = [];
            if (post.is_hot) badges.push('<span class="px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded">Hot</span>');
            if (post.is_best) badges.push('<span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded">Best</span>');

            return `
                <div class="bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition cursor-pointer post-card" data-post-url="${post.category === 'politician_post' ? 'post-detail_politician.html' : 'post-detail_member.html'}?id=${post.id}">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center space-x-2">
                            ${badges.join('')}
                        </div>
                    </div>

                    <h3 class="text-lg font-bold text-gray-900 mb-2 hover:text-primary-600">${post.title}</h3>
                    ${post.politician_tag ? `
                    <div class="mb-2">
                        <span class="inline-flex items-center px-2 py-1 bg-primary-100 text-primary-700 text-xs font-medium rounded border border-primary-300">
                            ğŸ·ï¸ ${post.politician_tag} | ${post.politician_status || 'í˜„ì§'} ${post.politician_position || 'êµ­íšŒì˜ì›'} | ì •ì¹˜ì¸ì— ëŒ€í•´ì„œ
                        </span>
                    </div>
                    ` : ''}
                    <p class="text-gray-600 text-sm mb-4 line-clamp-2">${post.content}</p>

                    ${post.tags && post.tags.length > 0 ? `
                    <div class="flex flex-wrap gap-2 mb-4">
                        ${post.tags.map(tag => `<span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded">#${tag}</span>`).join('')}
                    </div>
                    ` : ''}

                    <div class="flex items-center gap-3 text-xs text-gray-500 border-t pt-3">
                        ${post.category === 'politician_post'
                            ? `<a href="politician-detail.html?id=${post.author}" class="font-medium text-primary-600 hover:text-primary-700 hover:underline" onclick="event.stopPropagation()">${post.author} | ${post.status || 'í˜„ì§'} ${post.position || 'êµ­íšŒì˜ì›'}</a>`
                            : `
                            <div class="flex items-center gap-2">
                                <a href="user-profile.html?user=${post.author}" class="font-medium text-purple-600 hover:text-purple-700 hover:underline" onclick="event.stopPropagation()">${post.author}</a>
                                <span class="text-[10px] text-gray-900 font-medium">ML${post.member_level ? post.member_level.replace('ML', '') : '1'}</span>
                                <span class="text-[10px] text-emerald-900 font-medium">ğŸ° ì˜ì£¼</span>
                                <button
                                    class="follow-btn ml-1 px-3 py-1 border-2 border-emerald-700 text-emerald-900 rounded-md text-xs hover:bg-gray-50 transition"
                                    data-user="${post.author}"
                                    onclick="event.stopPropagation(); toggleFollow(this, '${post.author}')"
                                >
                                    + íŒ”ë¡œìš°
                                </button>
                            </div>
                            `
                        }
                        <span>${formattedDateTime}</span>
                        <span>ì¡°íšŒìˆ˜ ${post.views || 0}</span>
                        <span class="text-red-600">ğŸ‘ ${post.upvotes}</span>
                        <span class="text-gray-400">ğŸ‘ ${post.downvotes}</span>
                        <span>ëŒ“ê¸€ ${post.comment_count}</span>
                        <span class="flex items-center gap-1 text-gray-500">
                            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
                            </svg>
                            <span>ê³µìœ  ${post.share_count || 0}</span>
                        </span>
                    </div>
                </div>
            `;
        }

        function attachActionListeners() {
            // Post card click handlers
            document.querySelectorAll('.post-card').forEach(card => {
                card.addEventListener('click', function(e) {
                    if (!e.target.closest('button') && !e.target.closest('a')) {
                        const url = this.dataset.postUrl;
                        if (url) window.location.href = url;
                    }
                });
            });
        }


        // Search functionality
        function performCommunitySearch() {
            const searchInput = document.getElementById('community-search-input');
            currentSearchTerm = searchInput.value.trim();
            renderPosts();
        }

        document.getElementById('community-search-button').addEventListener('click', performCommunitySearch);
        document.getElementById('community-search-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performCommunitySearch();
            }
        });
        document.getElementById('community-search-input').addEventListener('input', function() {
            currentSearchTerm = this.value.trim();
            renderPosts();
        });

        // Write button functionality
        function handleWriteClick() {
            if (currentCategory === 'all') {
                openCategoryModal();
            } else if (currentCategory === 'politician_post') {
                window.location.href = 'write-post_politician.html';
            } else if (currentCategory === 'general') {
                window.location.href = 'write-post_member.html';
            }
        }

        function openCategoryModal() {
            document.getElementById('category-modal').classList.remove('hidden');
        }

        function closeCategoryModal() {
            document.getElementById('category-modal').classList.add('hidden');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('category-modal');
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeCategoryModal();
                }
            });
            loadPosts();
        });

    </script>

</body>
</html>
