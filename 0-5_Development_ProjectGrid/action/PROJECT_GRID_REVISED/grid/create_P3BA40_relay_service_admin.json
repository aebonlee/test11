{
  "task_id": "P3BA40",
  "task_name": "중개 서비스 관리 기능 (Admin)",
  "phase": 3,
  "area": "BA",
  "type": "create",
  "created_date": "2025-12-17",
  "status": "완료",
  "progress": 100,

  "task_description": "중개 서비스 업체를 관리자가 등록/관리할 수 있는 Admin 기능 구현",

  "background": {
    "issue": "중개 서비스 관리 기능이 구현되지 않음 (준비 중 페이지만 존재)",
    "impact": "관리자가 중개 업체를 등록/관리할 수 없음",
    "severity": "medium"
  },

  "implementation": {
    "assigned_agent": "backend-developer",
    "files_to_create": [
      "0-4_Database/Supabase/migrations/20251217090000_create_relay_providers_table.sql",
      "1_Frontend/src/app/api/admin/relay/route.ts",
      "1_Frontend/src/app/admin/relay/page.tsx"
    ],
    "technologies": [
      "TypeScript",
      "Next.js API Routes",
      "Supabase Client",
      "PostgreSQL"
    ]
  },

  "database": {
    "table_name": "relay_providers",
    "columns": {
      "id": "UUID PRIMARY KEY",
      "name": "TEXT (업체명)",
      "service_type": "TEXT (서비스 유형, 10자 이내)",
      "company_description": "TEXT (회사 소개)",
      "service_description": "TEXT (서비스 소개)",
      "phone": "TEXT (대표 연락처)",
      "email": "TEXT (이메일)",
      "website": "TEXT (홈페이지 URL)",
      "address": "TEXT (주소)",
      "logo_url": "TEXT (로고 이미지 URL)",
      "representative": "TEXT (대표자명)",
      "business_number": "TEXT (사업자등록번호)",
      "status": "TEXT (active/inactive/pending)",
      "display_order": "INTEGER (노출 순서)",
      "approved_at": "TIMESTAMP (승인일)",
      "approved_by": "UUID (승인 관리자)",
      "created_at": "TIMESTAMP",
      "updated_at": "TIMESTAMP"
    }
  },

  "api_endpoints": {
    "GET /api/admin/relay": {
      "description": "중개 업체 목록 조회",
      "authentication": "관리자 권한 필요",
      "query_parameters": {
        "status": "상태 필터 (active/inactive/pending)",
        "page": "페이지 번호",
        "limit": "페이지당 항목 수"
      }
    },
    "POST /api/admin/relay": {
      "description": "중개 업체 등록",
      "authentication": "관리자 권한 필요",
      "request_body": {
        "name": "업체명 (필수)",
        "service_type": "서비스 유형 (필수, 10자 이내)",
        "company_description": "회사 소개 (필수)",
        "service_description": "서비스 소개 (필수)",
        "phone": "연락처 (필수)",
        "email": "이메일 (필수)",
        "website": "홈페이지 (선택)",
        "address": "주소 (선택)",
        "logo_url": "로고 URL (선택)",
        "representative": "대표자명 (선택)",
        "business_number": "사업자등록번호 (선택)"
      }
    },
    "PATCH /api/admin/relay": {
      "description": "중개 업체 정보 수정/상태 변경",
      "authentication": "관리자 권한 필요"
    },
    "DELETE /api/admin/relay": {
      "description": "중개 업체 삭제",
      "authentication": "관리자 권한 필요"
    }
  },

  "admin_page": {
    "path": "/admin/relay",
    "features": [
      "중개 업체 목록 조회",
      "상태별 필터링 (활성/비활성/심사중)",
      "새 업체 등록",
      "업체 정보 수정",
      "업체 상태 변경 (승인/비활성화)",
      "업체 삭제"
    ]
  },

  "security": {
    "authentication": "requireAuth() 미들웨어",
    "authorization": "관리자 권한 검증",
    "audit_logging": "모든 처리 작업을 audit_logs에 기록"
  },

  "related_tasks": ["P3BA39"],
  "dependencies": ["P2D1 (Database)"],

  "execution_info": {
    "executor": "Claude Code",
    "execution_date": "2025-12-17",
    "duration_minutes": null
  }
}
