# ì‘ì—…ì§€ì‹œì„œ: P4BA7

## ğŸ“‹ ê¸°ë³¸ ì •ë³´

- **ì‘ì—… ID**: P4BA7
- **ì—…ë¬´ëª…**: ìë™ ì¤‘ì¬ ì‹œìŠ¤í…œ API
- **Phase**: Phase 4
- **Area**: Backend APIs (BA)
- **ì„œë¸Œ ì—ì´ì „íŠ¸**: api-designer
- **ì‘ì—… ë°©ì‹**: AI-Only

---

## ğŸ¯ ì‘ì—… ëª©í‘œ

AI ê¸°ë°˜ ìë™ ì¤‘ì¬ ì‹œìŠ¤í…œìœ¼ë¡œ ì‹ ê³ ëœ ì½˜í…ì¸ ë¥¼ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ê³  ì²˜ë¦¬í•©ë‹ˆë‹¤.

---

## ğŸ”§ ì‚¬ìš© ë„êµ¬

```
[Claude ë„êµ¬]
Read, Edit, Write, Grep, Glob, Bash

[ê¸°ìˆ  ìŠ¤íƒ]
TypeScript, Next.js API Routes, OpenAI API, Zod

[ì „ë¬¸ ìŠ¤í‚¬]
api-builder, security-audit
```

**ë„êµ¬ ì„¤ëª…**:
- **Claude ë„êµ¬**: Claude Codeì˜ ê¸°ë³¸ ê¸°ëŠ¥ (Read, Write, Edit, Bash, Glob, Grep ë“±)
- **ê¸°ìˆ  ìŠ¤íƒ**: í”„ë¡œì íŠ¸ì— ì‚¬ìš©ë˜ëŠ” í”„ë ˆì„ì›Œí¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬
- **ì „ë¬¸ ìŠ¤í‚¬**: Anthropic ë¹ŒíŠ¸ì¸ ìŠ¤í‚¬ (.claude/skills/*.md ì°¸ì¡°)

## ğŸ”— ì˜ì¡´ì„± ì •ë³´

**ì˜ì¡´ì„± ì²´ì¸**: P3BA23

ì´ ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „ì— ë‹¤ìŒ ì‘ì—…ì´ ì™„ë£Œë˜ì–´ì•¼ í•©ë‹ˆë‹¤: P3BA23 (ì½˜í…ì¸  ì‹ ê³  API)

---

## ğŸ“¦ ê¸°ëŒ€ ê²°ê³¼ë¬¼

- app/api/admin/auto-moderate/route.ts
- lib/moderation/ai-analyzer.ts
- lib/moderation/severity-scorer.ts

**êµ¬í˜„í•´ì•¼ í•  ì„¸ë¶€ í•­ëª©**:

1. **ì½˜í…ì¸  ë¶„ì„**:
   - OpenAI APIë¡œ í…ìŠ¤íŠ¸ ë¶„ì„
   - ìš•ì„¤/ë¹„ë°© ê°ì§€
   - ì •ì¹˜ì  í˜ì˜¤ í‘œí˜„ ê°ì§€
   - ìŠ¤íŒ¸/ê´‘ê³  ê°ì§€
   - ê°œì¸ì •ë³´ ë…¸ì¶œ ê°ì§€

2. **ì‹¬ê°ë„ ì ìˆ˜ ê³„ì‚°**:
   - 0-30ì : ë¬´ì‹œ (ì •ìƒ ì½˜í…ì¸ )
   - 31-70ì : ê´€ë¦¬ì ê²€í†  í•„ìš”
   - 71-100ì : ìë™ ì‚­ì œ

3. **ìë™ ì•¡ì…˜ ì‹¤í–‰**:
   - ì‚­ì œ ì²˜ë¦¬
   - ì‘ì„±ì ê²½ê³ 
   - ê´€ë¦¬ì ì•Œë¦¼

4. **ë¡œê·¸ ê¸°ë¡**:
   - íŒì • ê²°ê³¼ ì €ì¥
   - AI ë¶„ì„ ê·¼ê±° ê¸°ë¡

ê° í•­ëª©ì„ ì²´ê³„ì ìœ¼ë¡œ êµ¬í˜„í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.

---

## ğŸ’¾ êµ¬í˜„ íŒŒì¼ ì €ì¥ ìœ„ì¹˜

**ë£¨íŠ¸ í´ë”**: `3_Backend_APIs/`

**íŒŒì¼ ê²½ë¡œ**:
```
3_Backend_APIs/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ admin/
â”‚           â””â”€â”€ auto-moderate/
â”‚               â””â”€â”€ route.ts
â””â”€â”€ lib/
    â””â”€â”€ moderation/
        â”œâ”€â”€ ai-analyzer.ts
        â””â”€â”€ severity-scorer.ts
```

**ì ˆëŒ€ ê²½ë¡œ ë³„ì¹­**: `@/` (ì˜ˆ: `import ... from '@/lib/moderation/ai-analyzer'`)

---

## ğŸ“ ì‘ì—… ì§€ì‹œì‚¬í•­

### 1. ì¤€ë¹„ ë‹¨ê³„

- í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‘ì—… ì‹œì‘
- í•„ìš”í•œ ë„êµ¬ í™•ì¸: TypeScript/Next.js API Routes/OpenAI API/Zod
- ì˜ì¡´ì„± ì‘ì—… ì™„ë£Œ í™•ì¸ (P3BA23)

### 2. êµ¬í˜„ ë‹¨ê³„

**API Endpoint**:
```typescript
POST /api/admin/auto-moderate
Request: {
  reportId: string;
  contentType: 'post' | 'comment';
  contentId: string;
}
Response: {
  action: 'ignore' | 'review' | 'delete';
  severity: number; // 0-100
  reasons: string[];
  aiAnalysis: string;
}
```

**OpenAI í”„ë¡¬í”„íŠ¸**:
```
ë‹¹ì‹ ì€ ì»¤ë®¤ë‹ˆí‹° ì½˜í…ì¸  ì‹¬ì‚¬ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ë‹¤ìŒ ì½˜í…ì¸ ë¥¼ ë¶„ì„í•˜ì—¬ ì‹¬ê°ë„ë¥¼ 0-100ì ìœ¼ë¡œ í‰ê°€í•˜ì„¸ìš”:
- ìš•ì„¤/ë¹„ë°©
- í˜ì˜¤ í‘œí˜„
- ìŠ¤íŒ¸/ê´‘ê³ 
- ê°œì¸ì •ë³´ ë…¸ì¶œ

ì½˜í…ì¸ : {content}
```

**ì²˜ë¦¬ ë¡œì§**:
```typescript
if (severity <= 30) {
  // ë¬´ì‹œ - ì •ìƒ ì½˜í…ì¸ 
  updateReport(reportId, 'rejected');
} else if (severity <= 70) {
  // ê²€í†  í•„ìš”
  updateReport(reportId, 'pending_review');
  notifyAdmin(reportId);
} else {
  // ìë™ ì‚­ì œ
  deleteContent(contentId);
  warnUser(authorId);
  updateReport(reportId, 'accepted');
}
```

### 3. ê²€ì¦ ë‹¨ê³„

- OpenAI API ì—°ë™ í™•ì¸
- ì‹¬ê°ë„ ì ìˆ˜ ê³„ì‚° ì •í™•ë„ ê²€ì¦
- ìë™ ì‚­ì œ ê¸°ëŠ¥ ë™ì‘ í™•ì¸
- ê´€ë¦¬ì ì•Œë¦¼ ë°œì†¡ í™•ì¸
- ë¡œê·¸ ê¸°ë¡ í™•ì¸

### 4. ì™„ë£Œ ë‹¨ê³„

- ìƒì„±ëœ íŒŒì¼ ëª©ë¡ í™•ì¸
- PROJECT GRID ìƒíƒœ ì—…ë°ì´íŠ¸
- ë‹¤ìŒ ì˜ì¡´ ì‘ì—…ì— ì˜í–¥ í™•ì¸

---

## âœ… ì™„ë£Œ ê¸°ì¤€

- [ ] OpenAI API ì—°ë™ ì™„ë£Œ
- [ ] ì‹¬ê°ë„ ì ìˆ˜ ê³„ì‚° ì •í™•ë„ 80% ì´ìƒ
- [ ] ìë™ ì‚­ì œ ê¸°ëŠ¥ ë™ì‘ í™•ì¸
- [ ] ê´€ë¦¬ì ì•Œë¦¼ ë°œì†¡ í™•ì¸
- [ ] ë¡œê·¸ ê¸°ë¡ í™•ì¸
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] API í…ŒìŠ¤íŠ¸ í†µê³¼

---

**ì‘ì—…ì§€ì‹œì„œ ìƒì„±ì¼**: 2025-11-06
**PROJECT GRID Version**: v4.0
