# PoliticianFinder 테스트 이슈 리포트

**테스트 일시**: 2025-11-10
**테스터**: Claude Code (Sonnet 4.5)
**테스트 환경**: Vercel Production (https://politician-finder.vercel.app)

---

## 🚨 심각도: HIGH - 즉시 수정 필요

### Issue #1: 정치인 목록 페이지에 데이터 3개만 표시

**문제**:
- **데이터베이스**: 24명의 정치인 존재 (확인됨)
- **홈페이지**: 10명 표시 (정상)
- **정치인 페이지** (`/politicians`): **3명만 표시** ❌

**영향**:
- 사용자가 전체 정치인 목록을 볼 수 없음
- 새로 추가한 20명의 테스트 정치인이 표시되지 않음
- 데이터베이스와 UI 간 심각한 불일치

**재현 방법**:
1. https://politician-finder.vercel.app/politicians 접속
2. 정치인 목록 확인
3. 3명만 표시됨 (김민준, 이서연, 박지후)

**예상 원인**:
- API 쿼리에 `LIMIT 3` 하드코딩 가능성
- 페이지네이션 미구현
- 필터 조건 문제

**확인 필요 파일**:
- `1_Frontend/src/app/api/politicians/route.ts`
- `1_Frontend/src/app/politicians/page.tsx`

**해결 방법**:
1. API에서 전체 데이터 반환하도록 수정
2. 페이지네이션 구현 (한 페이지당 20개)
3. 무한 스크롤 또는 "더보기" 버튼 추가

---

## 🔶 심각도: MEDIUM - 개선 필요

### Issue #2: 홈페이지와 정치인 페이지 표시 정치인 수 불일치

**문제**:
- **홈페이지**: 10명 표시
- **정치인 페이지**: 3명 표시
- 일관성 없는 UX

**영향**:
- 사용자 혼란
- 홈페이지에서 본 정치인이 정치인 페이지에서 안 보임

**해결 방법**:
- 홈페이지: "Top 10" 또는 "인기 정치인 10명" 명시
- 정치인 페이지: 전체 목록 표시 + 페이지네이션

---

### Issue #3: 게시글 작성자 표시 일관성 문제

**현황**:
- 일반 회원 게시글: "투명한정치", "시민참여자" 등 닉네임 표시 ✅
- 정치인 게시글: "🏛️ 신지민 | 현직 국회의원" 형식 표시 ✅

**잠재적 문제**:
- 사용자가 언급한 "회원" 표시 이슈는 현재 프로덕션에서 발견되지 않음
- 로컬 개발 환경과 프로덕션 간 차이일 가능성

**확인 필요**:
- 로컬 개발 서버 (localhost:3001)에서 동일 이슈 확인
- 게시글 작성 시 author_id가 제대로 매핑되는지 확인

---

## ℹ️ 심각도: LOW - 향후 개선 고려

### Issue #4: 정치인 랭킹 표시 불일치

**문제**:
- Top 3: AI 모델별 세부 점수 표시 (Claude, ChatGPT, Gemini, Grok, Perplexity)
- Rank 4-10: 종합 점수만 표시

**영향**:
- 시각적 계층 혼란
- 하위 랭크 정치인 정보 부족

**해결 방법**:
- 모든 정치인에게 동일한 정보 제공
- 또는 "상세보기" 버튼으로 추가 정보 접근 가능하게

---

### Issue #5: Supabase 테이블 제약조건 문제

**문제**:
- `posts` 테이블에 10개 게시글 추가 시도
- 4/10만 성공 (체크 제약조건 위반)

**오류 메시지**:
```
new row for relation "posts" violates check constraint
```

**영향**:
- 커뮤니티 게시글 작성 시 일부 실패 가능성
- 데이터 일관성 문제

**확인 필요**:
- `posts` 테이블의 CHECK 제약조건 확인
- 카테고리 값 검증 (`general`, `politics`, `policy`, `free`)
- 필수 필드 확인

---

## ✅ 정상 작동 확인된 기능

### 1. 홈페이지
- ✅ 정치인 랭킹 Top 10 표시
- ✅ 최근 게시글 3개 표시 (작성자 정보 포함)
- ✅ 커뮤니티 활동 섹션
- ✅ 플랫폼 통계

### 2. 커뮤니티 페이지
- ✅ 20개 게시글 표시
- ✅ 작성자 정보 일관되게 표시
- ✅ 조회수, 공감, 댓글 수 정상 표시
- ✅ 정렬 기능 (최신순, 인기순, 조회순)

### 3. API 기능
- ✅ `/api/politicians` 엔드포인트 정상 작동 (14개 반환)
- ✅ Supabase 데이터베이스 연결 정상

### 4. 데이터베이스
- ✅ 24명의 정치인 데이터 저장 완료
- ✅ 73+4 = 77개의 커뮤니티 게시글
- ✅ 정치인 평가 시스템 테이블 존재

---

## 📊 테스트 결과 요약

| 테스트 항목 | 결과 | 비고 |
|------------|------|------|
| 정치인 데이터 20개 추가 | ✅ 성공 | Supabase에 24명 존재 |
| 커뮤니티 게시글 10개 추가 | ⚠️ 부분 성공 | 4/10 성공 (체크 제약조건) |
| 정치인 목록 조회 | ❌ 실패 | 3/24명만 표시 |
| 홈페이지 표시 | ✅ 성공 | 10명 정상 표시 |
| 커뮤니티 페이지 | ✅ 성공 | 20개 게시글 정상 |
| API 엔드포인트 | ✅ 성공 | 14개 반환 |

---

## 🔧 우선순위별 수정 작업

### 우선순위 1 (즉시)
1. **정치인 페이지 3명 제한 해제**
   - 파일: `1_Frontend/src/app/api/politicians/route.ts`
   - 작업: LIMIT 제거 또는 페이지네이션 구현

### 우선순위 2 (중요)
2. **홈페이지와 정치인 페이지 일관성 개선**
   - 홈: "인기 Top 10" 라벨 추가
   - 정치인 페이지: 전체 목록 + 페이지네이션

3. **게시글 작성 제약조건 수정**
   - 파일: Supabase `posts` 테이블
   - 작업: CHECK 제약조건 검토 및 완화

### 우선순위 3 (개선)
4. **정치인 랭킹 표시 통일**
5. **페이지네이션 또는 무한 스크롤 구현**

---

## 📝 다음 테스트 계획

1. 로컬 개발 서버(localhost:3001)에서 동일 이슈 재현
2. 정치인 페이지 수정 후 재테스트
3. 정치인 평가 10개 추가 테스트
4. 댓글 10개 추가 테스트
5. 검색 기능 테스트
6. 모바일 반응형 재확인

---

**리포트 작성**: 2025-11-10
**다음 업데이트**: 이슈 수정 후
