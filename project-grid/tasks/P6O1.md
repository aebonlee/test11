# 작업지시서: P6O1

## 📋 기본 정보

- **작업 ID**: P6O1
- **업무명**: CI/CD 파이프라인
- **Phase**: Phase 6
- **Area**: Operations (O)
- **서브 에이전트**: devops-engineer
- **작업 방식**: AI-Only

---

## 🎯 작업 목표

GitHub Actions 자동 빌드/배포

---

## 🔧 사용 도구

```
[Claude 도구]
Read, Edit, Write, Grep, Glob, Bash

[기술 스택]
GitHub Actions, Vercel, Sentry

[전문 스킬]
ci-cd, deployment
```

**도구 설명**:
- **Claude 도구**: Claude Code의 기본 기능 (Read, Write, Edit, Bash, Glob, Grep 등)
- **기술 스택**: 프로젝트에 사용되는 프레임워크 및 라이브러리
- **전문 스킬**: Anthropic 빌트인 스킬 (.claude/skills/*.md 참조)

## 🔗 의존성 정보

**의존성 체인**: P5T1, P5T2, P5T3

이 작업을 시작하기 전에 다음 작업이 완료되어야 합니다: P5T1, P5T2, P5T3

---

## 📦 기대 결과물

**생성할 파일:**
1. `.github/workflows/ci-cd.yml` - GitHub Actions 워크플로우

**워크플로우 트리거:**
- `push` to `main` branch → 프로덕션 배포
- `push` to `develop` branch → 개발 배포
- `pull_request` → 빌드 & 테스트만 실행

**파이프라인 단계:**
1. Checkout code
2. Setup Node.js (v18)
3. Install dependencies (`npm ci`)
4. Run lint (`npm run lint`)
5. Run type check (`npm run type-check`)
6. Run tests (`npm run test`)
7. Build (`npm run build`)
8. Deploy to Vercel (main → production, develop → preview)

**필요한 GitHub Secrets:**
- `VERCEL_TOKEN`
- `VERCEL_ORG_ID`
- `VERCEL_PROJECT_ID`
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`

**구현해야 할 세부 항목**:

1. GitHub Actions 워크플로우 작성 (.github/workflows/ci-cd.yml)
2. Build 단계 (npm run build, TypeScript 컴파일)
3. Test 단계 (npm run test, 커버리지 리포트)
4. Deploy 단계 (Vercel CLI 사용)
5. 환경 변수 설정 (GitHub Secrets 연동)
6. 브랜치별 배포 전략 (main → production, develop → preview)
7. 실패 시 Slack/Discord 알림 (선택)

각 항목을 체계적으로 구현하고 테스트하세요.

---

## 💾 구현 파일 저장 위치

**루트 폴더**: `5_DevOps/`

**파일 경로**:
```
5_DevOps/
└── .github/
    └── workflows/
        └── ci-cd.yml
```

**절대 경로 별칭**: 해당 없음 (DevOps 설정 파일)

---

## 📝 작업 지시사항

### 1. 준비 단계

- 프로젝트 루트 디렉토리에서 작업 시작
- 필요한 도구 확인: GitHub Actions/Vercel/Sentry
- 의존성 작업 완료 확인 (P5T1) (P5T2) (P5T3)

### 2. 구현 단계

**구현해야 할 세부 항목**:

1. GitHub Actions 워크플로우 작성
2. Build 단계 (npm run build)
3. Test 단계 (npm run test)
4. Deploy 단계 (Vercel)
5. 환경 변수 설정
6. 브랜치별 배포 전략 (main → production)

각 항목을 체계적으로 구현하고 테스트하세요.

### 3. 검증 단계

- 작성한 코드의 정상 동작 확인
- 타입 체크 및 린트 통과
- 필요한 경우 단위 테스트 작성
- 코드 리뷰 준비

### 4. 완료 단계

- 생성된 파일 목록 확인
- PROJECT GRID 상태 업데이트
- 다음 의존 작업에 영향 확인

---

## ✅ 완료 기준

- [ ] CI/CD 파이프라인 기능이 정상적으로 구현됨
- [ ] 기대 결과물이 모두 생성됨
- [ ] 코드가 정상적으로 빌드/실행됨
- [ ] 타입 체크 및 린트 통과
- [ ] PROJECT GRID 상태 업데이트 완료
- [ ] CI/CD 파이프라인이 정상 작동함
- [ ] 자동 배포 확인

---

**작업지시서 생성일**: 2025-11-06
**PROJECT GRID Version**: v4.0
