# 하이브리드 워크플로우 실전 가이드

**스킬 + 에이전트 복합 사용 실전 템플릿**

---

## 🎯 목적

이 문서는 실제 PoliticianFinder 개발에서 스킬과 에이전트를 복합적으로 사용하는 구체적인 워크플로우 템플릿을 제공합니다.

---

## 📋 워크플로우 템플릿

### Template 1: 새 기능 개발 (Full Cycle)

```markdown
## 기능: [기능명]

### Phase 1: 기획 및 분석 (메인 + 스킬)

**사용자 명령**:
```
"project-plan 스킬을 사용해서 [기능명] 요구사항을 분석하고
작업을 Phase별로 나눠주세요"
```

**체크리스트**:
- [ ] 요구사항 명확화
- [ ] 작업 분해 (Task ID 부여)
- [ ] 의존성 파악
- [ ] 일정 추정

---

### Phase 2: DB 설계 (에이전트)

**사용자 명령**:
```
"database-developer 에이전트에게 다음 작업을 맡겨주세요:

작업: [테이블명] 테이블 설계
요구사항:
- [컬럼1]: [타입] [제약조건]
- [컬럼2]: [타입] [제약조건]
- RLS 정책: [정책 설명]
- 인덱스: [인덱스 컬럼]

완료 기준:
- 마이그레이션 파일 생성
- RLS 정책 적용
- 테스트 데이터 시드"
```

**체크리스트**:
- [ ] 에이전트 작업 시작
- [ ] 마이그레이션 파일 생성 확인
- [ ] RLS 정책 검증

---

### Phase 3: 병렬 개발 (복수 에이전트)

**사용자 명령**:
```
"backend-developer와 frontend-developer 에이전트를
동시에 실행해서 병렬로 개발하게 해주세요:

backend-developer:
- GET /api/[endpoint]
- POST /api/[endpoint]
- 페이지네이션, 필터링

frontend-developer:
- [페이지명] 페이지
- [컴포넌트명] 컴포넌트
- 로딩/에러 상태 처리"
```

**체크리스트**:
- [ ] 두 에이전트 동시 실행 확인
- [ ] API 엔드포인트 생성 확인
- [ ] UI 컴포넌트 생성 확인
- [ ] 통합 테스트 준비

---

### Phase 4: 코드 리뷰 (메인 + 스킬)

**사용자 명령**:
```
"code-review 스킬을 사용해서 다음 디렉토리를 검토해주세요:
- app/api/[endpoint]/
- app/[page]/
- components/[component]/

우선순위별 이슈를 정리하고 수정이 필요한 부분을 알려주세요"
```

**체크리스트**:
- [ ] P0 (Critical) 이슈 확인
- [ ] P1 (High) 이슈 확인
- [ ] 리팩토링 제안 검토
- [ ] 수정 계획 수립

---

### Phase 5: 이슈 수정 (에이전트)

**사용자 명령**:
```
"fullstack-developer 에이전트에게 코드 리뷰 결과를 전달하고
다음 이슈들을 수정하게 해주세요:

1. [P0 이슈 설명]
2. [P1 이슈 설명]
3. [리팩토링 항목]"
```

**체크리스트**:
- [ ] 모든 P0 이슈 수정
- [ ] P1 이슈 수정
- [ ] 수정 사항 검증

---

### Phase 6: 보안 검사 (메인 + 스킬)

**사용자 명령**:
```
"security-audit 스킬을 사용해서 [기능명]의 보안 취약점을 검사해주세요:
- 인증/인가
- SQL Injection
- XSS
- CSRF
- RLS 정책"
```

**체크리스트**:
- [ ] OWASP Top 10 검증
- [ ] RLS 정책 테스트
- [ ] 취약점 발견 시 수정

---

### Phase 7: 성능 검사 (메인 + 스킬)

**사용자 명령**:
```
"performance-check 스킬을 사용해서 성능을 분석해주세요:
- API 응답 시간
- DB 쿼리 성능
- Frontend 렌더링
- Bundle 크기"
```

**체크리스트**:
- [ ] API 응답 < 100ms 확인
- [ ] N+1 쿼리 문제 확인
- [ ] Core Web Vitals 측정
- [ ] 최적화 제안 검토

---

### Phase 8: 테스트 (에이전트 백그라운드)

**사용자 명령**:
```
"test-engineer 에이전트를 백그라운드로 실행해서
전체 테스트를 수행하게 해주세요:
- 단위 테스트
- 통합 테스트
- E2E 테스트
- 커버리지 리포트"
```

**체크리스트**:
- [ ] 모든 테스트 통과
- [ ] 커버리지 80% 이상
- [ ] 실패 케이스 분석
- [ ] 회귀 테스트 확인

---

### Phase 9: 배포 (에이전트)

**사용자 명령**:
```
"deployment 에이전트에게 Vercel 배포를 맡겨주세요:
- 환경: production
- 환경변수 확인
- 빌드 검증
- 배포 후 헬스 체크"
```

**체크리스트**:
- [ ] 환경변수 설정 확인
- [ ] 빌드 성공
- [ ] 배포 완료
- [ ] 프로덕션 동작 확인

---

### Phase 10: 문서화 (메인 + 스킬)

**사용자 명령**:
```
"doc-writer 스킬을 사용해서 다음 문서를 업데이트해주세요:
- README.md (새 기능 추가)
- API 문서
- 변경 이력 (CHANGELOG.md)"
```

**체크리스트**:
- [ ] README 업데이트
- [ ] API 문서 생성
- [ ] CHANGELOG 작성
- [ ] 팀원 공유
```

---

### Template 2: 긴급 버그 수정 (Fast Track)

```markdown
## 버그: [버그 설명]

### Step 1: 진단 (메인 + 스킬) - 5분

**사용자 명령**:
```
"troubleshoot 스킬을 사용해서 다음 에러를 분석해주세요:

[에러 메시지 붙여넣기]

로그:
[관련 로그 붙여넣기]"
```

**출력**: 원인 분석 및 수정 방법

---

### Step 2: 빠른 수정 (메인 + 스킬) - 10분

**사용자 명령**:
```
"fullstack-dev 스킬을 사용해서 원인을 수정해주세요.
각 단계마다 확인하겠습니다."
```

**이유**: 작은 수정이므로 에이전트보다 직접 제어가 빠름

---

### Step 3: 테스트 (메인 + 스킬) - 5분

**사용자 명령**:
```
"test-runner 스킬을 사용해서 수정 사항을 검증해주세요:
- 관련 테스트만 실행
- 회귀 테스트"
```

---

### Step 4: 핫픽스 배포 (에이전트) - 10분

**사용자 명령**:
```
"deployment 에이전트에게 핫픽스 배포를 맡겨주세요:
- 환경: production
- 롤백 준비 필수
- 배포 후 즉시 모니터링"
```

**총 소요 시간**: 30분
```

---

### Template 3: 대규모 리팩토링 (Phased)

```markdown
## 리팩토링: [대상 시스템]

### Phase 1: 분석 (메인 + 스킬 + 에이전트)

**Step 1.1: 영향 범위 분석 (에이전트)**
```
"Explore 에이전트에게 코드베이스 전체를 분석시켜주세요:
- [대상 시스템] 관련 모든 파일 찾기
- 의존성 관계 파악
- 영향 받는 컴포넌트/API 목록"
```

**Step 1.2: 리팩토링 계획 (메인 + 스킬)**
```
"project-plan 스킬을 사용해서 리팩토링을 계획해주세요:
- Explore 에이전트 결과 기반
- 단계별 작업 분해
- 리스크 평가
- 롤백 계획"
```

---

### Phase 2: 단계별 실행 (에이전트)

**Step 2.1: Backend 리팩토링**
```
"backend-developer 에이전트에게 1단계 작업을 맡겨주세요:
- [구체적 작업 내용]"
```

**Step 2.2: 중간 검증 (메인 + 스킬)**
```
"code-review 스킬로 1단계 결과를 검증해주세요"
```

**Step 2.3: Frontend 리팩토링**
```
"frontend-developer 에이전트에게 2단계 작업을 맡겨주세요:
- [구체적 작업 내용]"
```

**Step 2.4: 중간 검증**
```
"code-review 스킬로 2단계 결과를 검증해주세요"
```

---

### Phase 3: 검증 (병렬)

**병렬 실행**:
```
"다음 작업을 동시에 수행해주세요:

1. test-engineer 에이전트:
   - 전체 테스트 스위트 실행

2. 메인 + performance-check 스킬:
   - 리팩토링 전후 성능 비교

3. 메인 + security-audit 스킬:
   - 보안 취약점 재검사"
```
```

---

### Template 4: 신규 Phase 개발 (Complete)

```markdown
## Phase X: [Phase명]

### 준비 단계

**사용자 → 메인**:
```
"project-plan 스킬을 사용해서 Phase X를 분석해주세요:

Phase X 목표:
- [목표 1]
- [목표 2]

요구사항:
- [요구사항 1]
- [요구사항 2]

제약사항:
- [제약사항 1]"
```

**메인 출력**: 작업 분해 (Work Package → Task)

---

### 개발 단계

**사용자 → 메인**:
```
"다음 작업들을 효율적으로 배분해서 실행해주세요:

DB 작업: database-developer 에이전트
API 작업: backend-developer 에이전트
UI 작업: frontend-developer 에이전트

가능한 작업은 병렬로 실행하고,
각 단계마다 저에게 보고해주세요."
```

**메인 실행**:
1. DB 작업 먼저 (선행 필수)
2. API + UI 병렬 실행
3. 각 단계별 보고

---

### 검증 단계

**사용자 → 메인**:
```
"다음 스킬들을 순서대로 사용해서 검증해주세요:

1. code-review 스킬
2. security-audit 스킬
3. performance-check 스킬

각 스킬 실행 후 발견된 이슈를 정리하고,
수정이 필요한 것들은 에이전트에게 맡겨주세요."
```

---

### 테스트 단계

**사용자 → 메인**:
```
"test-engineer 에이전트를 백그라운드로 실행해서
전체 테스트를 수행하게 하고,

저는 api-test 스킬로 API 엔드포인트를
직접 테스트하겠습니다."
```

---

### 완료 단계

**사용자 → 메인**:
```
"Phase X 완료를 위해:

1. deployment 에이전트로 배포
2. doc-writer 스킬로 문서 업데이트
3. 프로젝트 그리드에 완료 표시

이 세 작업을 수행해주세요."
```
```

---

## 🎮 실전 커맨드 모음

### 빠른 복사용 커맨드

#### 기획
```
"project-plan 스킬을 사용해서 [작업명]을 분석하고 작업을 분해해주세요"
```

#### 병렬 개발
```
"backend-developer와 frontend-developer 에이전트를 동시 실행해서:
- Backend: [작업 내용]
- Frontend: [작업 내용]
병렬로 개발하게 해주세요"
```

#### 코드 리뷰
```
"code-review 스킬로 [경로]를 검토하고 우선순위별 이슈를 정리해주세요"
```

#### 보안 검사
```
"security-audit 스킬로 [기능명]의 보안 취약점을 검사해주세요"
```

#### 성능 분석
```
"performance-check 스킬로 [대상]의 성능을 분석하고 최적화 방안을 제시해주세요"
```

#### 테스트 실행
```
"test-runner 스킬로 모든 테스트를 실행하고 결과를 보고해주세요"
```

#### 긴급 디버깅
```
"troubleshoot 스킬로 다음 에러를 분석하고 해결 방법을 알려주세요:
[에러 메시지]"
```

#### 배포
```
"deployment 에이전트에게 [환경] 배포를 맡겨주세요"
```

#### 문서화
```
"doc-writer 스킬로 [문서명]을 작성/업데이트해주세요"
```

---

## 📊 의사결정 플로우차트

```
작업 크기는?
│
├─ 소형 (1-2 파일) → 메인 + 스킬 직접 수행
│
├─ 중형 (3-10 파일)
│  │
│  ├─ 긴급?
│  │  ├─ Yes → 메인 + 스킬 (빠른 제어)
│  │  └─ No → 에이전트 위임
│  │
│  └─ 검증 필요?
│     └─ Yes → 메인 + 스킬
│
└─ 대형 (11+ 파일)
   │
   ├─ 병렬 가능?
   │  ├─ Yes → 복수 에이전트 동시 실행
   │  └─ No → 에이전트 순차 실행
   │
   └─ 각 단계마다 메인 + 스킬로 검증
```

---

## ✅ 체크리스트: 워크플로우 선택

### 새 기능 개발
- [ ] 요구사항 명확한가? → 메인 + project-plan 스킬
- [ ] DB 변경 필요? → database-developer 에이전트
- [ ] API + UI 동시 개발 가능? → 복수 에이전트 병렬
- [ ] 코드 리뷰 필요? → 메인 + code-review 스킬
- [ ] 보안 중요? → 메인 + security-audit 스킬
- [ ] 배포 준비? → deployment 에이전트

### 버그 수정
- [ ] 원인 파악? → 메인 + troubleshoot 스킬
- [ ] 영향 범위 작음? → 메인 + fullstack-dev 스킬
- [ ] 영향 범위 큼? → fullstack-developer 에이전트
- [ ] 긴급 배포? → deployment 에이전트

### 리팩토링
- [ ] 영향 범위 분석? → Explore 에이전트
- [ ] 계획 수립? → 메인 + project-plan 스킬
- [ ] 단계별 실행? → 에이전트
- [ ] 각 단계 검증? → 메인 + code-review 스킬

---

## 🎯 성공 지표

### 효율성
- ⏱️ 개발 시간: 60-70% 단축
- 🔄 병렬 처리: 2-3개 작업 동시 진행
- 🤖 자동화율: 80% 이상

### 품질
- 📊 코드 품질: A등급 유지
- 🔒 보안 취약점: 0건
- ✅ 테스트 커버리지: 80% 이상

### 사용자 경험
- 👁️ 가시성: 모든 단계 실시간 확인
- 🎮 제어: 필요 시 즉시 개입 가능
- 📖 학습: 스킬 참조로 지속 개선

---

**이 워크플로우 템플릿을 활용하여 PoliticianFinder 프로젝트를 성공적으로 완성하세요! 🚀**

---

*마지막 업데이트: 2025-10-23*
*버전: 1.0*
