<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê²€ìƒ‰ ê²°ê³¼ - PoliticianFinder</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316',  // ì£¼í™©ìƒ‰ ë©”ì¸
                            600: '#ea580c',
                            700: '#c2410c',
                            800: '#9a3412',
                            900: '#7c2d12',
                        },
                        secondary: {
                            500: '#8b5cf6',  // ë³´ë¼ìƒ‰
                            600: '#7c3aed',
                        },
                        accent: {
                            500: '#064E3B',  // ì–´ë‘ìš´ ì—ë©”ë„ë“œ ê·¸ë¦° (Tailwind emerald-900) - AI í‰ê°€ ê¶Œìœ„ ê°•ì¡°
                            600: '#064E3B',  // ì´ˆë¡ìƒ‰ (í†µì¼)
                        }
                    },
                    fontFamily: {
                        sans: ['Pretendard', '-apple-system', 'BlinkMacSystemFont', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts: Noto Sans KR -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'system-ui', sans-serif;
            color: #000000;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50 border-b-2 border-primary-500">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo & Catchphrase -->
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="text-2xl font-bold text-primary-600">
                        PoliticianFinder
                    </a>
                    <div class="hidden md:block w-48">
                        <div class="font-bold text-gray-900" style="font-size: clamp(0.5rem, 3vw, 1rem); width: 100%;">í›Œë¥­í•œ ì •ì¹˜ì¸ ì°¾ê¸°</div>
                        <div class="text-gray-900 font-medium" style="font-size: clamp(0.38rem, 2.28vw, 0.7125rem); width: 100%;">AI ê¸°ë°˜ ì •ì¹˜ì¸ í‰ê°€ í”Œë«í¼</div>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="index.html" class="text-gray-900 hover:text-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1">í™ˆ</a>
                    <a href="politicians.html" class="text-gray-900 hover:text-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1">ì •ì¹˜ì¸</a>
                    <a href="community.html" class="text-gray-900 hover:text-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1">ì»¤ë®¤ë‹ˆí‹°</a>
                    <a href="services.html" class="text-gray-900 hover:text-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300 rounded px-2 py-1">ì—°ê²°</a>

                    <!-- ì•Œë¦¼ ì•„ì´ì½˜ -->
                    <a href="notifications.html" class="relative text-gray-900 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 rounded p-1">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                        </svg>
                        <!-- ì•Œë¦¼ ë°°ì§€ (ìƒˆ ì•Œë¦¼ ìˆì„ ë•Œ) -->
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">3</span>
                    </a>
                </div>

                <!-- Auth Buttons -->
                <div class="hidden md:flex items-center space-x-3">
                    <a href="login.html" class="text-gray-900 hover:text-primary-600 font-medium px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-300 rounded">ë¡œê·¸ì¸</a>
                    <a href="signup.html" class="bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 font-medium focus:outline-none focus:ring-2 focus:ring-primary-300">íšŒì›ê°€ì…</a>
                </div>

                <!-- Mobile menu button & notification -->
                <div class="md:hidden flex items-center space-x-3">
                    <!-- ì•Œë¦¼ ì•„ì´ì½˜ (ëª¨ë°”ì¼) -->
                    <a href="notifications.html" class="relative text-gray-900 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-300 rounded p-1">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                        </svg>
                        <!-- ì•Œë¦¼ ë°°ì§€ (ìƒˆ ì•Œë¦¼ ìˆì„ ë•Œ) -->
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center text-xs">3</span>
                    </a>
                    <button id="mobile-menu-button" class="text-gray-900 hover:text-primary-600 focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <div class="flex flex-col space-y-2">
                    <a href="index.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">í™ˆ</a>
                    <a href="politicians.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">ì •ì¹˜ì¸</a>
                    <a href="community.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">ì»¤ë®¤ë‹ˆí‹°</a>
                    <a href="services.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">ì—°ê²°</a>
                    <hr class="my-2">
                    <a href="login.html" class="text-gray-900 hover:text-primary-600 font-medium px-2 py-2">ë¡œê·¸ì¸</a>
                    <a href="signup.html" class="bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 font-medium text-center">íšŒì›ê°€ì…</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- ê²€ìƒ‰ ì •ë³´ í—¤ë” -->
        <div class="mb-6">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">
                '<span id="search-query" class="text-primary-600"></span>' ê²€ìƒ‰ ê²°ê³¼
            </h1>
            <p class="text-gray-600">
                ì´ <span id="total-results" class="font-bold text-primary-600">0</span>ê±´ì˜ ê²°ê³¼ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.
            </p>
        </div>

        <!-- ì„¹ì…˜ 1: ì •ì¹˜ì¸ ê²€ìƒ‰ ê²°ê³¼ -->
        <section class="bg-white rounded-lg shadow-md mb-6">
            <div class="border-b border-primary-200 bg-primary-50 px-6 py-4">
                <h2 class="text-2xl font-bold text-gray-900">
                    ì •ì¹˜ì¸ <span id="count-politicians" class="text-primary-600">(0)</span>
                </h2>
            </div>
            <div id="politicians-container" class="divide-y">
                <!-- ì •ì¹˜ì¸ ê²°ê³¼ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
            <div id="no-politicians" class="hidden p-8 text-center">
                <p class="text-gray-500">ê²€ìƒ‰ ê²°ê³¼ì— í•´ë‹¹í•˜ëŠ” ì •ì¹˜ì¸ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </section>

        <!-- ì„¹ì…˜ 2: ì •ì¹˜ì¸ ê²Œì‹œê¸€ ê²€ìƒ‰ ê²°ê³¼ -->
        <section class="bg-white rounded-lg shadow-md mb-6">
            <div class="border-b border-primary-200 bg-primary-50 px-6 py-4">
                <h2 class="text-2xl font-bold text-gray-900">
                    ì •ì¹˜ì¸ ê²Œì‹œê¸€ <span id="count-politician-posts" class="text-primary-600">(0)</span>
                </h2>
            </div>
            <div id="politician-posts-container" class="divide-y">
                <!-- ì •ì¹˜ì¸ ê²Œì‹œê¸€ ê²°ê³¼ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
            <div id="no-politician-posts" class="hidden p-8 text-center">
                <p class="text-gray-500">ê²€ìƒ‰ ê²°ê³¼ì— í•´ë‹¹í•˜ëŠ” ì •ì¹˜ì¸ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </section>

        <!-- ì„¹ì…˜ 3: íšŒì› ê²Œì‹œê¸€ ê²€ìƒ‰ ê²°ê³¼ -->
        <section class="bg-white rounded-lg shadow-md mb-6">
            <div class="border-b border-purple-200 bg-purple-50 px-6 py-4">
                <h2 class="text-2xl font-bold text-gray-900">
                    íšŒì› ê²Œì‹œê¸€ <span id="count-member-posts" class="text-purple-600">(0)</span>
                </h2>
            </div>
            <div id="member-posts-container" class="divide-y">
                <!-- íšŒì› ê²Œì‹œê¸€ ê²°ê³¼ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
            <div id="no-member-posts" class="hidden p-8 text-center">
                <p class="text-gray-500">ê²€ìƒ‰ ê²°ê³¼ì— í•´ë‹¹í•˜ëŠ” íšŒì› ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-primary-500 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <!-- Footer Links -->
            <div class="flex justify-center items-center space-x-8 text-base py-4">
                <a href="#" class="text-white hover:text-gray-100 transition font-medium">ì„œë¹„ìŠ¤ ì†Œê°œ</a>
                <a href="#" class="text-white hover:text-gray-100 transition font-medium">ì´ìš©ì•½ê´€</a>
                <a href="#" class="text-white hover:text-gray-100 transition font-medium">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="#" class="text-white hover:text-gray-100 transition font-medium">ê³ ê°ì„¼í„°</a>
            </div>
            <!-- Copyright -->
            <div class="text-center text-base text-white py-4">
                <p>&copy; 2025 PoliticianFinder. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Mobile Menu Toggle Script -->
    <script>
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });

        // URLì—ì„œ ê²€ìƒ‰ì–´ ê°€ì ¸ì˜¤ê¸°
        const urlParams = new URLSearchParams(window.location.search);
        const searchQuery = urlParams.get('q') || '';
        document.getElementById('search-query').textContent = searchQuery;

        // ìƒ˜í”Œ ë°ì´í„° (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì˜´)
        const samplePoliticians = [
            {
                id: 1,
                name: 'ê¹€ë¯¼ì¤€',
                position: 'êµ­íšŒì˜ì›',
                status: 'í˜„ì§',
                party: 'ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹',
                region: 'ì„œìš¸ ê°•ë‚¨êµ¬',
                grade: 'Emerald',
                total_score: 84.8,
                claude_score: 85.0,
                chatgpt_score: 82.0,
                gemini_score: 87.0,
                grok_score: 84.0,
                perplexity_score: 86.0,
                member_rating: 4.0,
                member_rating_count: 1247,
                profile_image: null
            },
            {
                id: 2,
                name: 'ì´ì„œì—°',
                position: 'êµ­íšŒì˜ì›',
                status: 'í˜„ì§',
                party: 'êµ­ë¯¼ì˜í˜',
                region: 'ë¶€ì‚° í•´ìš´ëŒ€êµ¬',
                grade: 'Platinum',
                total_score: 92.3,
                claude_score: 93.0,
                chatgpt_score: 91.0,
                gemini_score: 94.0,
                grok_score: 91.0,
                perplexity_score: 93.0,
                member_rating: 4.5,
                member_rating_count: 982,
                profile_image: null
            }
        ];

        const samplePoliticianPosts = [
            {
                id: 1,
                title: '2025ë…„ ì§€ì—­ ë°œì „ ê³„íš ê³µìœ ë“œë¦½ë‹ˆë‹¤',
                content: 'ìš°ë¦¬ ì§€ì—­ì˜ êµí†µ ì¸í”„ë¼ ê°œì„ ê³¼ ì²­ë…„ ì¼ìë¦¬ ì°½ì¶œì„ ìœ„í•œ êµ¬ì²´ì ì¸ ê³„íšì„ ê³µìœ í•©ë‹ˆë‹¤...',
                author: 'ğŸ›ï¸ ê¹€ë¯¼ì¤€ | í˜„ì§ êµ­íšŒì˜ì›',
                author_link: 'politician-detail.html?id=ê¹€ë¯¼ì¤€',
                category: 'politician_post',
                created_at: '2025-01-28T09:00:00',
                views: 512,
                upvotes: 89,
                downvotes: 12,
                comment_count: 45,
                share_count: 23
            },
            {
                id: 2,
                title: '2024ë…„ ì •ì±… ì„±ê³¼ ë³´ê³ ',
                content: 'ì§€ë‚œ 1ë…„ê°„ ì¶”ì§„í•œ ì£¼ìš” ì •ì±…ì˜ ì„±ê³¼ë¥¼ ë³´ê³ ë“œë¦½ë‹ˆë‹¤. ì£¼ë¯¼ ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì„ ë°˜ì˜í•˜ì—¬...',
                author: 'ğŸ›ï¸ ì´ì„œì—° | í˜„ì§ êµ­íšŒì˜ì›',
                author_link: 'politician-detail.html?id=ì´ì„œì—°',
                category: 'politician_post',
                created_at: '2025-01-27T15:20:00',
                views: 387,
                upvotes: 67,
                downvotes: 8,
                comment_count: 32,
                share_count: 15
            }
        ];

        const sampleMemberPosts = [
            {
                id: 3,
                title: 'ìš°ë¦¬ ì§€ì—­ êµí†µ ë¬¸ì œ ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”?',
                content: 'ìš”ì¦˜ ì¶œí‡´ê·¼ ì‹œê°„ì— ë„ˆë¬´ ë§‰íˆëŠ”ë°, ë‹¤ë“¤ ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”? ì¢‹ì€ í•´ê²°ì±…ì´ ìˆì„ê¹Œìš”?',
                author: 'ë°•ì§€ë¯¼',
                author_link: 'user-profile.html?user=ë°•ì§€ë¯¼',
                member_level: 'Lv.3',
                category: 'general',
                created_at: '2025-01-28T14:30:00',
                views: 234,
                upvotes: 45,
                downvotes: 3,
                comment_count: 28,
                share_count: 7
            },
            {
                id: 4,
                title: 'ì²­ë…„ ì¼ìë¦¬ ì •ì±…ì— ëŒ€í•œ ì œì•ˆ',
                content: 'ì²­ë…„ìœ¼ë¡œì„œ ëŠë¼ëŠ” ì¼ìë¦¬ ë¬¸ì œì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ì •ì¹˜ì¸ë“¤ì´ ì£¼ëª©í•´ì£¼ì…¨ìœ¼ë©´...',
                author: 'ìµœìˆ˜ì˜',
                author_link: 'user-profile.html?user=ìµœìˆ˜ì˜',
                member_level: 'Lv.4',
                category: 'proposal',
                created_at: '2025-01-27T11:15:00',
                views: 456,
                upvotes: 78,
                downvotes: 5,
                comment_count: 41,
                share_count: 12
            }
        ];

        // ê²€ìƒ‰ ìˆ˜í–‰ (ì‹¤ì œë¡œëŠ” API í˜¸ì¶œ)
        function performSearch(query) {
            // ê²€ìƒ‰ì–´ê°€ í¬í•¨ëœ ê²°ê³¼ í•„í„°ë§
            const filteredPoliticians = samplePoliticians.filter(p =>
                p.name.includes(query) || p.region.includes(query) || p.party.includes(query)
            );

            const filteredPoliticianPosts = samplePoliticianPosts.filter(p =>
                p.title.includes(query) || p.content.includes(query) || p.author.includes(query)
            );

            const filteredMemberPosts = sampleMemberPosts.filter(p =>
                p.title.includes(query) || p.content.includes(query) || p.author.includes(query)
            );

            // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
            const totalCount = filteredPoliticians.length + filteredPoliticianPosts.length + filteredMemberPosts.length;
            document.getElementById('total-results').textContent = totalCount;
            document.getElementById('count-politicians').textContent = `(${filteredPoliticians.length})`;
            document.getElementById('count-politician-posts').textContent = `(${filteredPoliticianPosts.length})`;
            document.getElementById('count-member-posts').textContent = `(${filteredMemberPosts.length})`;

            // ê²°ê³¼ ë Œë”ë§
            renderPoliticians(filteredPoliticians);
            renderPoliticianPosts(filteredPoliticianPosts);
            renderMemberPosts(filteredMemberPosts);
        }

        // ì •ì¹˜ì¸ ê²°ê³¼ ë Œë”ë§
        function renderPoliticians(politicians) {
            const container = document.getElementById('politicians-container');
            const noResults = document.getElementById('no-politicians');

            container.innerHTML = '';

            if (politicians.length === 0) {
                noResults.classList.remove('hidden');
                return;
            }

            noResults.classList.add('hidden');

            politicians.forEach(politician => {
                container.appendChild(createPoliticianCard(politician));
            });
        }

        // ì •ì¹˜ì¸ ê²Œì‹œê¸€ ê²°ê³¼ ë Œë”ë§
        function renderPoliticianPosts(posts) {
            const container = document.getElementById('politician-posts-container');
            const noResults = document.getElementById('no-politician-posts');

            container.innerHTML = '';

            if (posts.length === 0) {
                noResults.classList.remove('hidden');
                return;
            }

            noResults.classList.add('hidden');

            posts.forEach(post => {
                container.appendChild(createPostCard(post, true));
            });
        }

        // íšŒì› ê²Œì‹œê¸€ ê²°ê³¼ ë Œë”ë§
        function renderMemberPosts(posts) {
            const container = document.getElementById('member-posts-container');
            const noResults = document.getElementById('no-member-posts');

            container.innerHTML = '';

            if (posts.length === 0) {
                noResults.classList.remove('hidden');
                return;
            }

            noResults.classList.add('hidden');

            posts.forEach(post => {
                container.appendChild(createPostCard(post, false));
            });
        }

        // ì •ì¹˜ì¸ ì¹´ë“œ ìƒì„± (ê°„ë‹¨í•œ ì •ë³´ë§Œ)
        function createPoliticianCard(politician) {
            const card = document.createElement('div');
            card.className = 'p-6 hover:bg-gray-50 cursor-pointer transition';
            card.onclick = () => location.href = `politician-detail.html?id=${politician.id}`;

            card.innerHTML = `
                <div class="flex items-start gap-4">
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-2">
                            <h3 class="text-xl font-bold text-gray-900">${highlightSearchTerm(politician.name, searchQuery)}</h3>
                        </div>
                        <div class="flex items-center gap-4 text-sm text-gray-600">
                            <span class="font-medium">${politician.status} ${politician.position}</span>
                            <span>ğŸ›ï¸ ${highlightSearchTerm(politician.party, searchQuery)}</span>
                            <span>ğŸ“ ${highlightSearchTerm(politician.region, searchQuery)}</span>
                        </div>
                    </div>
                </div>
            `;

            return card;
        }

        // ê²Œì‹œê¸€ ì¹´ë“œ ìƒì„±
        function createPostCard(post, isPoliticianPost) {
            const card = document.createElement('div');
            card.className = 'p-6 hover:bg-gray-50 cursor-pointer transition';
            card.onclick = () => location.href = `post-detail_${isPoliticianPost ? 'politician' : 'member'}.html?id=${post.id}`;

            // ë°°ì§€ ì œê±° - community.html í‘œì¤€ ë”°ë¦„ (ë°°ì§€ ì—†ì´ authorë¡œë§Œ êµ¬ë¶„)

            const date = new Date(post.created_at);
            const formattedDateTime = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;

            const authorColor = isPoliticianPost ? 'text-primary-600' : 'text-purple-600';

            card.innerHTML = `
                <div class="flex items-start justify-between">
                    <div class="flex-1">
                        <h3 class="font-bold text-gray-900 mb-2">${highlightSearchTerm(post.title, searchQuery)}</h3>
                        <p class="text-sm text-gray-600 mb-3 line-clamp-2">${highlightSearchTerm(post.content, searchQuery)}</p>
                        <div class="flex items-center gap-3 text-xs text-gray-500">
                            <a href="${post.author_link}" class="font-medium ${authorColor} hover:underline">${isPoliticianPost ? post.author : post.author + ' | ' + (post.member_level || 'Lv.1')}</a>
                            <span>${formattedDateTime}</span>
                            <span>ì¡°íšŒìˆ˜ ${post.views}</span>
                            <span class="text-red-600">ğŸ‘ ${post.upvotes}</span>
                            <span class="text-gray-400">ğŸ‘ ${post.downvotes}</span>
                            <span>ëŒ“ê¸€ ${post.comment_count}</span>
                            <span class="flex items-center gap-1">
                                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
                                </svg>
                                <span>ê³µìœ  ${post.share_count}</span>
                            </span>
                        </div>
                    </div>
                </div>
            `;

            return card;
        }

        // ê²€ìƒ‰ì–´ í•˜ì´ë¼ì´íŠ¸
        function highlightSearchTerm(text, term) {
            if (!term) return text;
            const regex = new RegExp(`(${term})`, 'gi');
            return text.replace(regex, '<mark class="bg-yellow-200 px-1">$1</mark>');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê²€ìƒ‰ ìˆ˜í–‰
        if (searchQuery) {
            performSearch(searchQuery);
        }
    </script>
</body>
</html>
