# V30 ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2026-01-17
**ë²„ì „**: V30
**ëŒ€ìƒ**: Claude Code ë©”ì¸ ì—ì´ì „íŠ¸
**ëª©ì **: V30 ì •ì¹˜ì¸ í‰ê°€ ì‹œìŠ¤í…œì˜ ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

---

## ğŸ¯ í•µì‹¬ ìš”ì•½

**Claudeì˜ ì—­í• **: ë©”ì¸ ì—ì´ì „íŠ¸ë¡œì„œ ì „ì²´ í‰ê°€ í”„ë¡œì„¸ìŠ¤ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
**ì´ ìˆ˜ì§‘ëŸ‰**: **1,000ê°œ** (ì¹´í…Œê³ ë¦¬ë‹¹ 100ê°œ Ã— 10ê°œ ì¹´í…Œê³ ë¦¬)
**ì´ í‰ê°€ëŸ‰**: **4,000ê°œ** (4ê°œ í‰ê°€ AI Ã— 1,000ê°œ)

---

## âš ï¸ ì¤‘ìš”í•œ ê°œë…

### â­ í”„ë¡œì„¸ìŠ¤ ì‹œì‘ì 

**ì˜ëª»ëœ ì´í•´**:
```
Step 1: ìˆ˜ì§‘ ì‹œì‘ (ì •ì¹˜ì¸ ì´ë¦„ë§Œ ê°€ì§€ê³ )
```

**ì˜¬ë°”ë¥¸ ì´í•´**:
```
Step 0: ì •ì¹˜ì¸ ì •ë³´ ìˆ˜ì§‘ (í•„ìˆ˜ ì„ í–‰ ë‹¨ê³„!)
  â†’ ì´ë¦„, ì†Œì† ì •ë‹¹, ì¶œë§ˆ ì§ì¢…, ì¶œë§ˆ ì§€ì—­, ë‚˜ì´ ë“± í™•ì¸

Step 1: ìˆ˜ì§‘ ì‹œì‘ (í’ë¶€í•œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë‹´ì€ í”„ë¡¬í”„íŠ¸ë¡œ)
```

**ì™œ Step 0ì´ ì¤‘ìš”í•œê°€?**
- í”„ë¡¬í”„íŠ¸ì— ì •ì¹˜ì¸ì˜ ìƒì„¸ ì •ë³´ í¬í•¨ í•„ìš”
- ë™ëª…ì´ì¸ êµ¬ë¶„ í•„ìš”
- ìˆ˜ì§‘ ë° í‰ê°€ì˜ ì •í™•ë„ í–¥ìƒ
- ì»¨í…ìŠ¤íŠ¸ í’ë¶€í™”ë¡œ AI íŒë‹¨ë ¥ í–¥ìƒ

---

## ğŸ“‹ ì „ì²´ í”„ë¡œì„¸ìŠ¤ (7ë‹¨ê³„)

### Step 0: ì •ì¹˜ì¸ ì •ë³´ ìˆ˜ì§‘ â­ (ê°€ì¥ ì¤‘ìš”!)

**ëª©ì **: í‰ê°€ ëŒ€ìƒ ì •ì¹˜ì¸ì˜ ìƒì„¸ ì •ë³´ í™•ë³´

**ì‘ì—… ë‚´ìš©**:
```python
# Supabaseì—ì„œ ì •ì¹˜ì¸ ì •ë³´ ì¡°íšŒ
from supabase import create_client, Client

politician_id = '62e7b453'  # ì˜ˆ: ì˜¤ì„¸í›ˆ
response = supabase.table('politicians').select('*').eq('id', politician_id).execute()

politician_data = response.data[0]
```

**í™•ë³´í•´ì•¼ í•  ì •ë³´**:
```python
{
  "id": "62e7b453",
  "name": "ì˜¤ì„¸í›ˆ",
  "party": "êµ­ë¯¼ì˜í˜",
  "title": "ê´‘ì—­ë‹¨ì²´ì¥",           # ì¶œë§ˆ ì§ì¢…
  "position": "ì„œìš¸íŠ¹ë³„ì‹œì¥",       # í˜„ì¬ ì§ì±…
  "region": "ì„œìš¸íŠ¹ë³„ì‹œ",          # ì¶œë§ˆ ì§€ì—­
  "district": null,
  "identity": "ì¶œë§ˆì˜ˆì •ì",         # ì¶œë§ˆ ì‹ ë¶„
  "birth_date": "1961-08-04",
  "age": 64,
  "profile_image_url": "...",
  "website_url": "..."
}
```

**ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] ì •ì¹˜ì¸ IDê°€ ì˜¬ë°”ë¥¸ê°€? (8ìë¦¬ hex TEXT)
- [ ] ì´ë¦„ì´ ì •í™•í•œê°€?
- [ ] ì†Œì† ì •ë‹¹ì´ í™•ì¸ë˜ì—ˆëŠ”ê°€?
- [ ] ì¶œë§ˆ ì§ì¢…(title)ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ì¶œë§ˆ ì§€ì—­(region)ì´ í™•ì¸ë˜ì—ˆëŠ”ê°€?
- [ ] ë‚˜ì´ ì •ë³´ê°€ ìˆëŠ”ê°€?

**ì‚¬ìš©ìì—ê²Œ í™•ì¸ ìš”ì²­**:
```
ì •ì¹˜ì¸ ì •ë³´ë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤:

ì´ë¦„: ì˜¤ì„¸í›ˆ
ì†Œì† ì •ë‹¹: êµ­ë¯¼ì˜í˜
ì¶œë§ˆ ì§ì¢…: ê´‘ì—­ë‹¨ì²´ì¥
ì¶œë§ˆ ì§€ì—­: ì„œìš¸íŠ¹ë³„ì‹œ
ë‚˜ì´: 64ì„¸
ì¶œë§ˆ ì‹ ë¶„: ì¶œë§ˆì˜ˆì •ì

ì´ ì •ë³´ë¡œ í‰ê°€ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
```

---

### Step 1: ë°ì´í„° ìˆ˜ì§‘ (1,000ê°œ)

**ëª©ì **: 3ê°œ AIê°€ ë¶„ë‹´í•˜ì—¬ ì´ 1,000ê°œ ë°ì´í„° ìˆ˜ì§‘

**ìˆ˜ì§‘ AI ë¶„ë‹´** (ë¹„ìš© ìµœì í™”):

| AI | ë¹„ìœ¨ | ì¹´í…Œê³ ë¦¬ë‹¹ | ì „ì²´ (10 ì¹´í…Œê³ ë¦¬) | íŠ¹í™” ì˜ì—­ |
|----|------|------------|-------------------|-----------|
| Gemini | 60% | 60ê°œ | 600ê°œ | ê³µì‹(50) + ê³µê°œ(10) |
| Perplexity | 30% | 30ê°œ | 300ê°œ | ë‰´ìŠ¤/ì–¸ë¡  ì „ë‹´ |
| Grok | 10% | 10ê°œ | 100ê°œ | X/íŠ¸ìœ„í„° ì „ë‹´ |
| **í•©ê³„** | **100%** | **100ê°œ** | **1,000ê°œ** | - |

âš ï¸ **Claude/ChatGPTëŠ” ìˆ˜ì§‘ì—ì„œ ì œì™¸** (ì›¹ê²€ìƒ‰ ë¹„ìš© ë¬¸ì œ)

**ìˆ˜ì§‘ êµ¬ì¡°** (ì¹´í…Œê³ ë¦¬ë‹¹ 100ê°œ):
```
Phase 1: ë¶€ì • ì£¼ì œ 20ê°œ (ìµœì†Œ 20% ë³´ì¥)
â”œâ”€â”€ OFFICIAL ë¶€ì • 10ê°œ (ê³µì‹ ë°ì´í„°, ìµœê·¼ 4ë…„)
â””â”€â”€ PUBLIC ë¶€ì • 10ê°œ (ê³µê°œ ë°ì´í„°, ìµœê·¼ 2ë…„)

Phase 2: ê¸ì • ì£¼ì œ 20ê°œ (ìµœì†Œ 20% ë³´ì¥)
â”œâ”€â”€ OFFICIAL ê¸ì • 10ê°œ (ê³µì‹ ë°ì´í„°, ìµœê·¼ 4ë…„)
â””â”€â”€ PUBLIC ê¸ì • 10ê°œ (ê³µê°œ ë°ì´í„°, ìµœê·¼ 2ë…„)

Phase 3: ììœ  í‰ê°€ 60ê°œ
â”œâ”€â”€ OFFICIAL ììœ  30ê°œ (ê³µì‹ ë°ì´í„°, ìµœê·¼ 4ë…„)
â””â”€â”€ PUBLIC ììœ  30ê°œ (ê³µê°œ ë°ì´í„°, ìµœê·¼ 2ë…„)

ê²°ê³¼: OFFICIAL 50ê°œ (50%) + PUBLIC 50ê°œ (50%)
```

**10ê°œ ì¹´í…Œê³ ë¦¬**:
1. ì „ë¬¸ì„± (expertise)
2. ë¦¬ë”ì‹­ (leadership)
3. ë¹„ì „ (vision)
4. ì²­ë ´ì„± (integrity)
5. ìœ¤ë¦¬ì„± (ethics)
6. ì±…ì„ê° (accountability)
7. íˆ¬ëª…ì„± (transparency)
8. ì†Œí†µëŠ¥ë ¥ (communication)
9. ëŒ€ì‘ì„± (responsiveness)
10. ê³µìµì„± (publicinterest)

**ì‹¤í–‰ ë°©ë²•**:
```bash
# V30 ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
python 0-3_AI_Evaluation_Engine/ì„¤ê³„ë¬¸ì„œ_V7.0/ì‹¤í–‰ìŠ¤í¬ë¦½íŠ¸/collect_v30.py \
  --politician_id=62e7b453 \
  --politician_name="ì˜¤ì„¸í›ˆ"
```

**í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ** (Step 0ì—ì„œ ì–»ì€ ì •ë³´ í™œìš©):
```markdown
# ìˆ˜ì§‘ ëŒ€ìƒ ì •ì¹˜ì¸
ì´ë¦„: ì˜¤ì„¸í›ˆ
ì†Œì† ì •ë‹¹: êµ­ë¯¼ì˜í˜
ì¶œë§ˆ ì§ì¢…: ê´‘ì—­ë‹¨ì²´ì¥
ì¶œë§ˆ ì§€ì—­: ì„œìš¸íŠ¹ë³„ì‹œ
ë‚˜ì´: 64ì„¸
í˜„ì¬ ì§ì±…: ì„œìš¸íŠ¹ë³„ì‹œì¥

# ìˆ˜ì§‘ ì¹´í…Œê³ ë¦¬: ì „ë¬¸ì„±
# ìˆ˜ì§‘ í•­ëª©: 10ê°œ êµ¬ì²´ì  í•­ëª© (í•™ë ¥, ìê²©ì¦, ê²½ë ¥, ...)

# ê¸°ê°„ ì œí•œ
OFFICIAL ë°ì´í„°: ìµœê·¼ 4ë…„ (ìˆ˜ì§‘ì¼ ê¸°ì¤€)
PUBLIC ë°ì´í„°: ìµœê·¼ 2ë…„ (ìˆ˜ì§‘ì¼ ê¸°ì¤€)

# ìˆ˜ì§‘ ì§€ì¹¨
Phase 1: ë¶€ì • ì£¼ì œ 20ê°œ
Phase 2: ê¸ì • ì£¼ì œ 20ê°œ
Phase 3: ììœ  í‰ê°€ 60ê°œ
```

**ìˆ˜ì§‘ ê²°ê³¼ ì €ì¥**:
```
DB í…Œì´ë¸”: collected_data_v30
ë ˆì½”ë“œ ìˆ˜: 1,000ê°œ (100ê°œ Ã— 10ê°œ ì¹´í…Œê³ ë¦¬)
```

---

### Step 2: í’€ë§ (Pooling)

**ëª©ì **: 3ê°œ AIê°€ ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ ì¹´í…Œê³ ë¦¬ë³„ë¡œ í†µí•©

**í”„ë¡œì„¸ìŠ¤**:
```python
# ì¹´í…Œê³ ë¦¬ë³„ë¡œ ìˆ˜ì§‘ëœ ë°ì´í„° ì¡°íšŒ
for category in categories:
    pool = supabase.table('collected_data_v30') \
        .select('*') \
        .eq('politician_id', politician_id) \
        .eq('category', category) \
        .execute()

    # ê²°ê³¼: ì¹´í…Œê³ ë¦¬ë‹¹ 100ê°œ í’€ (Gemini 60 + Perplexity 30 + Grok 10)
```

**ì¤‘ìš” íŠ¹ì§•**:
- âŒ ì¤‘ë³µ ì œê±° ì•ˆ í•¨ (ìˆëŠ” ê·¸ëŒ€ë¡œ í•©ì¹¨)
- âŒ ê°€ì¤‘ì¹˜ ê³„ì‚° ì•ˆ í•¨ (ìì—° ê°€ì¤‘ì¹˜ í™œìš©)
- âœ… 4ê°œ AIê°€ ë™ì¼ ë‰´ìŠ¤ ìˆ˜ì§‘ â†’ í’€ì— 4ë²ˆ í¬í•¨ â†’ ìì—°ìŠ¤ëŸ½ê²Œ 4ë°° ì˜í–¥

**ìì—° ê°€ì¤‘ì¹˜ ì˜ˆì‹œ**:
```
ë‰´ìŠ¤ A: Geminië§Œ ìˆ˜ì§‘ â†’ í’€ì— 1ë²ˆ í¬í•¨ â†’ í‰ê°€ ì‹œ 1ë°° ì˜í–¥
ë‰´ìŠ¤ B: 3ê°œ AI ëª¨ë‘ ìˆ˜ì§‘ â†’ í’€ì— 3ë²ˆ í¬í•¨ â†’ í‰ê°€ ì‹œ 3ë°° ì˜í–¥
```

---

### Step 3: í‰ê°€ (Evaluation)

**ëª©ì **: 4ê°œ AIê°€ ê°ê° ì „ì²´ í’€(1,000ê°œ)ì„ í‰ê°€

**í‰ê°€ AI** (4ê°œ):
- Claude (me!)
- ChatGPT
- Gemini
- Grok

âš ï¸ **PerplexityëŠ” í‰ê°€ì—ì„œ ì œì™¸** (ìˆ˜ì§‘ ì „ë‹´)

**í‰ê°€ ë°©ì‹** (AIë‹¹):
```
ì¹´í…Œê³ ë¦¬ë‹¹ 100ê°œ Ã— 10ê°œ ì¹´í…Œê³ ë¦¬ = 1,000ê°œ í‰ê°€
ë°°ì¹˜ ì²˜ë¦¬: 10ê°œì”© ë‚˜ëˆ ì„œ 100ë²ˆ í‰ê°€ í˜¸ì¶œ
```

**ì „ì²´ í‰ê°€ëŸ‰**:
```
4ê°œ AI Ã— 1,000ê°œ = 4,000ê°œ í‰ê°€ ë ˆì½”ë“œ
```

**ë“±ê¸‰ ì²´ê³„** (V30 - 9ë‹¨ê³„):
```
+4: ë§¤ìš° ê¸ì •ì  (íƒì›”í•¨)
+3: ê¸ì •ì  (ìš°ìˆ˜í•¨)
+2: ë‹¤ì†Œ ê¸ì •ì  (ì–‘í˜¸í•¨)
+1: ì•½ê°„ ê¸ì •ì  (ê²½ë¯¸í•œ ê¸ì •)
 0: ì¤‘ë¦½ (ë³´í†µ)
-1: ì•½ê°„ ë¶€ì •ì  (ê²½ë¯¸í•œ ë¶€ì •)
-2: ë‹¤ì†Œ ë¶€ì •ì  (ë¯¸í¡í•¨)
-3: ë¶€ì •ì  (ë¶ˆëŸ‰í•¨)
-4: ë§¤ìš° ë¶€ì •ì  (ë§¤ìš° ë¶ˆëŸ‰í•¨)
```

**ì‹¤í–‰ ë°©ë²•**:
```bash
# V30 í‰ê°€ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
python 0-3_AI_Evaluation_Engine/ì„¤ê³„ë¬¸ì„œ_V7.0/ì‹¤í–‰ìŠ¤í¬ë¦½íŠ¸/evaluate_v30.py \
  --politician_id=62e7b453 \
  --politician_name="ì˜¤ì„¸í›ˆ"
```

**íƒ€ì´ë° ë¶„ë¦¬** (ê°ê´€ì„± ë³´ì¥):
```
ìˆ˜ì§‘ ì‹œì  â‰  í‰ê°€ ì‹œì  (ë‹¤ë¥¸ ì„¸ì…˜)
â†’ ë…ë¦½ì  íŒë‹¨ = ë” ê°ê´€ì 
```

**í‰ê°€ ê²°ê³¼ ì €ì¥**:
```
DB í…Œì´ë¸”: evaluations_v30
ë ˆì½”ë“œ ìˆ˜: 4,000ê°œ (4ê°œ AI Ã— 1,000ê°œ)
```

---

### Step 4: AIë³„ ì¹´í…Œê³ ë¦¬ ì ìˆ˜ ê³„ì‚°

**ëª©ì **: ê° AIê°€ ê° ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ ë¶€ì—¬í•œ í‰ê·  ì ìˆ˜ ê³„ì‚°

**ê³„ì‚° ë°©ì‹**:
```python
# AIë³„, ì¹´í…Œê³ ë¦¬ë³„ í‰ê·  ë“±ê¸‰ ê³„ì‚°
for ai in evaluation_ais:  # Claude, ChatGPT, Gemini, Grok
    for category in categories:  # 10ê°œ ì¹´í…Œê³ ë¦¬
        ratings = supabase.table('evaluations_v30') \
            .select('rating') \
            .eq('politician_id', politician_id) \
            .eq('ai_name', ai) \
            .eq('category', category) \
            .execute()

        avg_rating = sum(ratings) / len(ratings)  # -4 ~ +4

        # ì ìˆ˜ ë³€í™˜ (20~100ì )
        PRIOR = 6.0
        COEFFICIENT = 0.5
        category_score = (PRIOR + avg_rating * COEFFICIENT) * 10
```

**ì ìˆ˜ ë²”ìœ„**:
```
í‰ê·  ë“±ê¸‰: -4 ~ +4
ì¹´í…Œê³ ë¦¬ ì ìˆ˜: 20 ~ 100ì 

ê³„ì‚°ì‹:
score = (6.0 + avg_rating * 0.5) * 10

ì˜ˆì‹œ:
avg_rating = +4 â†’ score = (6.0 + 2.0) * 10 = 80ì 
avg_rating =  0 â†’ score = (6.0 + 0.0) * 10 = 60ì 
avg_rating = -4 â†’ score = (6.0 - 2.0) * 10 = 40ì 
```

**ì €ì¥**:
```
DB í…Œì´ë¸”: ai_category_scores_v30
ë ˆì½”ë“œ ìˆ˜: 40ê°œ (4ê°œ AI Ã— 10ê°œ ì¹´í…Œê³ ë¦¬)
```

---

### Step 5: AIë³„ ìµœì¢… ì ìˆ˜ ê³„ì‚°

**ëª©ì **: ê° AIì˜ 10ê°œ ì¹´í…Œê³ ë¦¬ ì ìˆ˜ë¥¼ í•©ì‚°í•˜ì—¬ ìµœì¢… ì ìˆ˜ ì‚°ì¶œ

**ê³„ì‚° ë°©ì‹**:
```python
for ai in evaluation_ais:
    category_scores = supabase.table('ai_category_scores_v30') \
        .select('score') \
        .eq('politician_id', politician_id) \
        .eq('ai_name', ai) \
        .execute()

    total_score = sum(category_scores)
    final_score = min(total_score, 1000)  # ìµœëŒ€ 1000ì 
```

**ì ìˆ˜ ë²”ìœ„**:
```
ìµœì†Œ: 200ì  (20ì  Ã— 10ê°œ ì¹´í…Œê³ ë¦¬)
ìµœëŒ€: 1000ì  (100ì  Ã— 10ê°œ ì¹´í…Œê³ ë¦¬)
```

**ì €ì¥**:
```
DB í…Œì´ë¸”: ai_final_scores_v30
ë ˆì½”ë“œ ìˆ˜: 4ê°œ (4ê°œ AI)
```

---

### Step 6: í†µí•© ì ìˆ˜ ê³„ì‚°

**ëª©ì **: 4ê°œ AIì˜ ìµœì¢… ì ìˆ˜ë¥¼ í‰ê· í•˜ì—¬ ì •ì¹˜ì¸ì˜ í†µí•© ì ìˆ˜ ì‚°ì¶œ

**ê³„ì‚° ë°©ì‹**:
```python
ai_scores = supabase.table('ai_final_scores_v30') \
    .select('final_score') \
    .eq('politician_id', politician_id) \
    .execute()

integrated_score = round(sum(ai_scores) / len(ai_scores))
```

**ì—…ë°ì´íŠ¸**:
```python
supabase.table('politicians') \
    .update({'integrated_score': integrated_score}) \
    .eq('id', politician_id) \
    .execute()
```

---

### Step 7: ê²°ê³¼ ë³´ê³  ë° ê²€ì¦

**ë³´ê³  ë‚´ìš©**:
```markdown
# V30 í‰ê°€ ì™„ë£Œ: ì˜¤ì„¸í›ˆ

## ìˆ˜ì§‘ ê²°ê³¼
- ì´ ìˆ˜ì§‘ëŸ‰: 1,000ê°œ
- Gemini: 600ê°œ (60%)
- Perplexity: 300ê°œ (30%)
- Grok: 100ê°œ (10%)

## í‰ê°€ ê²°ê³¼
- ì´ í‰ê°€ëŸ‰: 4,000ê°œ (4ê°œ AI Ã— 1,000ê°œ)
- Claude í‰ê°€: 1,000ê°œ
- ChatGPT í‰ê°€: 1,000ê°œ
- Gemini í‰ê°€: 1,000ê°œ
- Grok í‰ê°€: 1,000ê°œ

## AIë³„ ìµœì¢… ì ìˆ˜
- Claude: 720ì 
- ChatGPT: 735ì 
- Gemini: 710ì 
- Grok: 725ì 

## í†µí•© ì ìˆ˜
- í‰ê· : 723ì 

## ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜ (Claude ê¸°ì¤€)
1. ì „ë¬¸ì„±: 75ì 
2. ë¦¬ë”ì‹­: 78ì 
3. ë¹„ì „: 70ì 
4. ì²­ë ´ì„±: 68ì 
5. ìœ¤ë¦¬ì„±: 72ì 
6. ì±…ì„ê°: 74ì 
7. íˆ¬ëª…ì„±: 71ì 
8. ì†Œí†µëŠ¥ë ¥: 76ì 
9. ëŒ€ì‘ì„±: 73ì 
10. ê³µìµì„±: 69ì 
```

**ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] ìˆ˜ì§‘ëŸ‰ì´ 1,000ê°œì¸ê°€?
- [ ] í‰ê°€ëŸ‰ì´ 4,000ê°œì¸ê°€?
- [ ] 4ê°œ AI ëª¨ë‘ í‰ê°€í–ˆëŠ”ê°€?
- [ ] ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜ê°€ 20~100 ë²”ìœ„ì¸ê°€?
- [ ] ìµœì¢… ì ìˆ˜ê°€ 200~1000 ë²”ìœ„ì¸ê°€?
- [ ] DBì— ëª¨ë“  ë°ì´í„°ê°€ ì €ì¥ë˜ì—ˆëŠ”ê°€?

---

## ğŸ”§ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸

### ì „ì²´ í”„ë¡œì„¸ìŠ¤ ìë™í™”

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
V30 ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
"""

import os
import sys
from supabase import create_client, Client

# Supabase ì„¤ì •
SUPABASE_URL = os.getenv("SUPABASE_URL")
SUPABASE_KEY = os.getenv("SUPABASE_SERVICE_ROLE_KEY")
supabase: Client = create_client(SUPABASE_URL, SUPABASE_KEY)

def step_0_gather_politician_info(politician_id: str):
    """Step 0: ì •ì¹˜ì¸ ì •ë³´ ìˆ˜ì§‘"""
    print(f"\n[Step 0] ì •ì¹˜ì¸ ì •ë³´ ìˆ˜ì§‘ ì¤‘...")

    response = supabase.table('politicians').select('*').eq('id', politician_id).execute()

    if not response.data:
        raise ValueError(f"ì •ì¹˜ì¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {politician_id}")

    politician = response.data[0]

    print(f"\nì •ì¹˜ì¸ ì •ë³´:")
    print(f"  ì´ë¦„: {politician['name']}")
    print(f"  ì†Œì† ì •ë‹¹: {politician['party']}")
    print(f"  ì¶œë§ˆ ì§ì¢…: {politician['title']}")
    print(f"  ì¶œë§ˆ ì§€ì—­: {politician['region']}")
    print(f"  ë‚˜ì´: {politician['age']}ì„¸")
    print(f"  ì¶œë§ˆ ì‹ ë¶„: {politician['identity']}")

    # í•„ìˆ˜ ì •ë³´ ê²€ì¦
    required_fields = ['name', 'party', 'title', 'region', 'identity']
    for field in required_fields:
        if not politician.get(field):
            raise ValueError(f"í•„ìˆ˜ ì •ë³´ ëˆ„ë½: {field}")

    return politician

def step_1_collect_data(politician_id: str, politician_name: str):
    """Step 1: ë°ì´í„° ìˆ˜ì§‘ (1,000ê°œ)"""
    print(f"\n[Step 1] ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘...")

    # collect_v30.py ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
    os.system(f'python 0-3_AI_Evaluation_Engine/ì„¤ê³„ë¬¸ì„œ_V7.0/ì‹¤í–‰ìŠ¤í¬ë¦½íŠ¸/collect_v30.py --politician_id={politician_id} --politician_name="{politician_name}"')

    # ìˆ˜ì§‘ ê²°ê³¼ í™•ì¸
    response = supabase.table('collected_data_v30').select('id').eq('politician_id', politician_id).execute()
    collected_count = len(response.data)

    print(f"  ìˆ˜ì§‘ ì™„ë£Œ: {collected_count}ê°œ")

    if collected_count != 1000:
        raise ValueError(f"ìˆ˜ì§‘ëŸ‰ ì˜¤ë¥˜: ì˜ˆìƒ 1,000ê°œ, ì‹¤ì œ {collected_count}ê°œ")

    return collected_count

def step_3_evaluate_data(politician_id: str, politician_name: str):
    """Step 3: ë°ì´í„° í‰ê°€ (4,000ê°œ)"""
    print(f"\n[Step 3] ë°ì´í„° í‰ê°€ ì‹œì‘...")

    # evaluate_v30.py ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
    os.system(f'python 0-3_AI_Evaluation_Engine/ì„¤ê³„ë¬¸ì„œ_V7.0/ì‹¤í–‰ìŠ¤í¬ë¦½íŠ¸/evaluate_v30.py --politician_id={politician_id} --politician_name="{politician_name}"')

    # í‰ê°€ ê²°ê³¼ í™•ì¸
    response = supabase.table('evaluations_v30').select('id').eq('politician_id', politician_id).execute()
    evaluated_count = len(response.data)

    print(f"  í‰ê°€ ì™„ë£Œ: {evaluated_count}ê°œ")

    if evaluated_count != 4000:
        raise ValueError(f"í‰ê°€ëŸ‰ ì˜¤ë¥˜: ì˜ˆìƒ 4,000ê°œ, ì‹¤ì œ {evaluated_count}ê°œ")

    return evaluated_count

def step_4_5_6_calculate_scores(politician_id: str):
    """Step 4-6: ì ìˆ˜ ê³„ì‚°"""
    print(f"\n[Step 4-6] ì ìˆ˜ ê³„ì‚° ì‹œì‘...")

    # calculate_v30_scores.py ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
    os.system(f'python 0-3_AI_Evaluation_Engine/ì„¤ê³„ë¬¸ì„œ_V7.0/ì‹¤í–‰ìŠ¤í¬ë¦½íŠ¸/calculate_v30_scores.py --politician_id={politician_id}')

    # ìµœì¢… ì ìˆ˜ í™•ì¸
    response = supabase.table('politicians').select('integrated_score').eq('id', politician_id).execute()
    integrated_score = response.data[0]['integrated_score']

    print(f"  í†µí•© ì ìˆ˜: {integrated_score}ì ")

    return integrated_score

def main():
    """ë©”ì¸ í•¨ìˆ˜"""
    if len(sys.argv) < 2:
        print("ì‚¬ìš©ë²•: python orchestrate_v30.py <politician_id>")
        sys.exit(1)

    politician_id = sys.argv[1]

    try:
        # Step 0: ì •ì¹˜ì¸ ì •ë³´ ìˆ˜ì§‘
        politician = step_0_gather_politician_info(politician_id)
        politician_name = politician['name']

        # ì‚¬ìš©ì í™•ì¸
        print(f"\nìœ„ ì •ë³´ë¡œ í‰ê°€ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): ", end='')
        if input().lower() != 'y':
            print("í‰ê°€ë¥¼ ì·¨ì†Œí•©ë‹ˆë‹¤.")
            sys.exit(0)

        # Step 1: ë°ì´í„° ìˆ˜ì§‘
        collected_count = step_1_collect_data(politician_id, politician_name)

        # Step 2: í’€ë§ (ìë™)
        print(f"\n[Step 2] í’€ë§ (ìë™ ì™„ë£Œ)")

        # Step 3: ë°ì´í„° í‰ê°€
        evaluated_count = step_3_evaluate_data(politician_id, politician_name)

        # Step 4-6: ì ìˆ˜ ê³„ì‚°
        integrated_score = step_4_5_6_calculate_scores(politician_id)

        # Step 7: ê²°ê³¼ ë³´ê³ 
        print(f"\n" + "="*80)
        print(f"V30 í‰ê°€ ì™„ë£Œ: {politician_name}")
        print(f"="*80)
        print(f"ì´ ìˆ˜ì§‘ëŸ‰: {collected_count}ê°œ")
        print(f"ì´ í‰ê°€ëŸ‰: {evaluated_count}ê°œ")
        print(f"í†µí•© ì ìˆ˜: {integrated_score}ì ")
        print(f"="*80)

    except Exception as e:
        print(f"\nâŒ ì˜¤ë¥˜ ë°œìƒ: {e}")
        sys.exit(1)

if __name__ == "__main__":
    main()
```

---

## ğŸ’¡ í”¼í•´ì•¼ í•  ì‹¤ìˆ˜ (Learning from Errors)

### ì‹¤ìˆ˜ 1: Step 0 ëˆ„ë½

**ì˜ëª»ëœ ì‹œì‘**:
```
Step 1: ìˆ˜ì§‘ ì‹œì‘ (ì´ë¦„ë§Œ ê°€ì§€ê³ )
```

**ì˜¬ë°”ë¥¸ ì‹œì‘**:
```
Step 0: ì •ì¹˜ì¸ ì •ë³´ ìˆ˜ì§‘ (í•„ìˆ˜!)
  â†’ ì´ë¦„, ì •ë‹¹, ì§ì¢…, ì§€ì—­, ë‚˜ì´ ë“± í™•ì¸

Step 1: ìˆ˜ì§‘ ì‹œì‘ (í’ë¶€í•œ ì»¨í…ìŠ¤íŠ¸ë¡œ)
```

**ì›ì¸**: í”„ë¡¬í”„íŠ¸ì— í•„ìš”í•œ ìƒì„¸ ì •ë³´ë¥¼ ê°„ê³¼

---

### ì‹¤ìˆ˜ 2: politician_id íƒ€ì… ì˜¤ë¥˜

**ì˜ëª»ëœ ì²˜ë¦¬**:
```python
politician_id = parseInt(params.id)  # âŒ NaN ë°œìƒ
```

**ì˜¬ë°”ë¥¸ ì²˜ë¦¬**:
```python
politician_id = params.id  # âœ… ë¬¸ìì—´ ê·¸ëŒ€ë¡œ
```

**ì›ì¸**: politician_idëŠ” **TEXT íƒ€ì…** (8ìë¦¬ hex), ìˆ«ì ì•„ë‹˜!

---

## ğŸ“š ì°¸ì¡° ë¬¸ì„œ

- `V30_ê²€ì¦ìš”ì²­ì„œ.md` - V30 ì‹œìŠ¤í…œ ê²€ì¦ ì ˆì°¨
- `V30_ê²€ì¦ê²°ê³¼_ë…ë¦½ê²€ì¦_2026-01-17.md` - ë…ë¦½ ê²€ì¦ ê²°ê³¼
- `V30_ê¸°ë³¸ë°©ì¹¨.md` - V30 ì‹œìŠ¤í…œ ê¸°ë³¸ ë°©ì¹¨
- `V30_ì „ì²´_í”„ë¡œì„¸ìŠ¤_ê°€ì´ë“œ.md` - ì „ì²´ í”„ë¡œì„¸ìŠ¤ ê°€ì´ë“œ
- `2_collect/` - 10ê°œ ìˆ˜ì§‘ ì§€ì¹¨ì„œ
- `3_evaluate/` - 10ê°œ í‰ê°€ ì§€ì¹¨ì„œ
- `ì‹¤í–‰ìŠ¤í¬ë¦½íŠ¸/collect_v30.py` - ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸
- `ì‹¤í–‰ìŠ¤í¬ë¦½íŠ¸/evaluate_v30.py` - í‰ê°€ ìŠ¤í¬ë¦½íŠ¸
- `ì‹¤í–‰ìŠ¤í¬ë¦½íŠ¸/calculate_v30_scores.py` - ì ìˆ˜ ê³„ì‚° ìŠ¤í¬ë¦½íŠ¸

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì‹œì‘ ì „
- [ ] ì •ì¹˜ì¸ ID í™•ì¸ (8ìë¦¬ hex TEXT)
- [ ] DB ì—°ê²° í™•ì¸ (Supabase)
- [ ] API í‚¤ ì„¤ì • í™•ì¸ (Gemini, Perplexity, Grok, Claude, ChatGPT)
- [ ] Step 0 ì™„ë£Œ (ì •ì¹˜ì¸ ì •ë³´ ìˆ˜ì§‘)

### ìˆ˜ì§‘ ì¤‘
- [ ] 3ê°œ AI ë¶„ë‹´ í™•ì¸ (60-30-10)
- [ ] ê¸°ê°„ ì œí•œ ì ìš© í™•ì¸
- [ ] ì¹´í…Œê³ ë¦¬ë‹¹ 100ê°œ í™•ì¸
- [ ] ì´ 1,000ê°œ ìˆ˜ì§‘ í™•ì¸

### í‰ê°€ ì¤‘
- [ ] 4ê°œ AI í‰ê°€ í™•ì¸ (Claude, ChatGPT, Gemini, Grok)
- [ ] Perplexity í‰ê°€ ì œì™¸ í™•ì¸
- [ ] ì¹´í…Œê³ ë¦¬ë‹¹ 100ê°œ í‰ê°€ í™•ì¸
- [ ] ì´ 4,000ê°œ í‰ê°€ í™•ì¸

### ì™„ë£Œ í›„
- [ ] í†µí•© ì ìˆ˜ 200~1000 ë²”ìœ„ í™•ì¸
- [ ] DB ì €ì¥ í™•ì¸
- [ ] ê²°ê³¼ ë³´ê³  ì‘ì„±
- [ ] ì‚¬ìš©ì ìŠ¹ì¸

---

**ì‘ì„±ì**: Claude Code (Session 2026-01-17)
**ê²€ì¦**: ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ìˆ˜ì •
**ë²„ì „**: V30 Final

---

**ğŸš¨ í•µì‹¬ ê¸°ì–µ ì‚¬í•­**:
1. **1,000ê°œ ìˆ˜ì§‘** (60% + 30% + 10% = 100%)
2. **Step 0 í•„ìˆ˜**: ì •ì¹˜ì¸ ì •ë³´ ë¨¼ì € ìˆ˜ì§‘!
3. **politician_idëŠ” TEXT**: parseInt() ê¸ˆì§€!
