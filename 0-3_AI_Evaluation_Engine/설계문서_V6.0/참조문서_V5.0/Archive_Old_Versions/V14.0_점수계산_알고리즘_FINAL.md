# V14.0 점수 계산 알고리즘 FINAL

**작성일**: 2025-11-13
**버전**: V14.0
**상태**: 최종 승인

---

## 1. 알고리즘 개요

V14.0은 Prior 6.0, Coefficient 0.5, 등급 범위 -8~+8을 사용하는 점수 계산 알고리즘입니다.

### 핵심 파라미터

```python
PRIOR = 6.0
COEFFICIENT = 0.5
RATING_RANGE = (-8, +8)  # 17단계
```

---

## 2. 등급 스케일

### 17단계 등급 시스템

```
-8, -7, -6, -5, -4, -3, -2, -1, 0, +1, +2, +3, +4, +5, +6, +7, +8
```

- **최저 등급**: -8
- **중립**: 0
- **최고 등급**: +8

---

## 3. 카테고리 점수 계산

### 공식

```python
# 1단계: 등급 평균 계산
avg_rating = sum(모든 등급) / 데이터 개수

# 2단계: 카테고리 점수 계산 (20~100점)
category_score = (6.0 + avg_rating × 0.5) × 10
```

### 점수 범위

| 평균 등급 | 카테고리 점수 | 계산식 |
|-----------|---------------|--------|
| -8 | 20점 | (6.0 - 4.0) × 10 |
| -7 | 25점 | (6.0 - 3.5) × 10 |
| -6 | 30점 | (6.0 - 3.0) × 10 |
| -5 | 35점 | (6.0 - 2.5) × 10 |
| -4 | 40점 | (6.0 - 2.0) × 10 |
| -3 | 45점 | (6.0 - 1.5) × 10 |
| -2 | 50점 | (6.0 - 1.0) × 10 |
| -1 | 55점 | (6.0 - 0.5) × 10 |
| **0** | **60점** | **(6.0 + 0) × 10** |
| +1 | 65점 | (6.0 + 0.5) × 10 |
| +2 | 70점 | (6.0 + 1.0) × 10 |
| +3 | 75점 | (6.0 + 1.5) × 10 |
| +4 | 80점 | (6.0 + 2.0) × 10 |
| +5 | 85점 | (6.0 + 2.5) × 10 |
| +6 | 90점 | (6.0 + 3.0) × 10 |
| +7 | 95점 | (6.0 + 3.5) × 10 |
| +8 | 100점 | (6.0 + 4.0) × 10 |

**카테고리 점수 범위: 20점 ~ 100점**

---

## 4. 최종 점수 계산

### 공식

```python
final_score = sum(10개 카테고리 점수)
```

### 점수 범위

- **최저**: 200점 (모든 카테고리 -8: 20×10)
- **중립**: 600점 (모든 카테고리 0: 60×10)
- **최고**: 1,000점 (모든 카테고리 +8: 100×10)

**최종 점수 범위: 200점 ~ 1,000점**

---

## 5. 등급 매핑

### 8단계 금속 등급 (200~1,000점 범위)

| 등급 | 명칭 | 점수 범위 | 설명 |
|------|------|-----------|------|
| M | Mugunghwa | 913~1,000 | 무궁화 - 최고 등급 |
| D | Diamond | 825~912 | 다이아몬드 |
| E | Emerald | 738~824 | 에메랄드 |
| P | Platinum | 650~737 | 플래티넘 |
| G | Gold | 563~649 | 골드 |
| S | Silver | 475~562 | 실버 |
| B | Bronze | 388~474 | 브론즈 |
| I | Iron | 200~387 | 아이언 |

---

## 6. 구현 예시

### Python 코드

```python
# 카테고리 점수 계산
def calculate_category_score(ratings):
    """
    Args:
        ratings: 등급 리스트 (예: [-2, 0, +1, -1, +2, ...])

    Returns:
        카테고리 점수 (20~100점)
    """
    avg_rating = sum(ratings) / len(ratings)
    category_score = (6.0 + avg_rating * 0.5) * 10
    return round(category_score, 2)


# 최종 점수 계산
def calculate_final_score(category_scores):
    """
    Args:
        category_scores: 10개 카테고리 점수 리스트

    Returns:
        최종 점수 (200~1,000점)
    """
    final_score = sum(category_scores)
    return round(final_score, 2)


# 등급 판정
def get_grade(final_score):
    """
    Args:
        final_score: 최종 점수

    Returns:
        등급 (M/D/E/P/G/S/B/I)
    """
    if final_score >= 913:
        return 'M'
    elif final_score >= 825:
        return 'D'
    elif final_score >= 738:
        return 'E'
    elif final_score >= 650:
        return 'P'
    elif final_score >= 563:
        return 'G'
    elif final_score >= 475:
        return 'S'
    elif final_score >= 388:
        return 'B'
    else:
        return 'I'
```

---

## 7. 계산 예시

### 예시 1: 평균적인 정치인

```python
# 10개 카테고리 평균 등급
ratings_per_category = [
    [0, +1, -1, 0, +1],  # 카테고리 1: 평균 +0.2
    [-1, 0, +1, 0, -1],  # 카테고리 2: 평균 -0.2
    # ... (나머지 8개 카테고리)
]

# 카테고리별 점수
category_scores = [
    (6.0 + 0.2 * 0.5) * 10,   # 61점
    (6.0 + (-0.2) * 0.5) * 10, # 59점
    # ...
]

# 최종 점수
final_score = sum(category_scores)  # 약 600점
grade = 'P'  # Platinum 등급
```

### 예시 2: 우수한 정치인

```python
# 모든 카테고리 평균 +4
category_score = (6.0 + 4 * 0.5) * 10  # 80점
final_score = 80 * 10  # 800점
grade = 'E'  # Emerald 등급
```

### 예시 3: 부진한 정치인

```python
# 모든 카테고리 평균 -4
category_score = (6.0 + (-4) * 0.5) * 10  # 40점
final_score = 40 * 10  # 400점
grade = 'B'  # Bronze 등급
```

---

## 8. 검증 규칙

### 데이터 유효성 검증

1. **등급 범위 검증**: -8 ≤ rating ≤ +8
2. **데이터 개수 검증**: 각 카테고리 최소 50개
3. **점수 범위 검증**: 200 ≤ final_score ≤ 1,000

### 이상치 처리

- 등급이 -8~+8 범위를 벗어나는 데이터는 제외
- 카테고리당 데이터가 50개 미만인 경우 평가 불가

---

## 9. V13.0 대비 변경사항

### 파라미터 변경

| 항목 | V13.0 | V14.0 | 변경 이유 |
|------|-------|-------|-----------|
| **Prior** | 6.5 | 6.0 | 평균 점수 조정 (650점 → 600점) |
| **Coefficient** | 0.5 | 0.5 | 유지 (변별력 최적화) |
| **등급 범위** | -7 ~ +7 | -8 ~ +8 | 변별력 향상 (14% 범위 확장) |
| **등급 단계** | 15단계 | 17단계 | 범위 확장에 따른 증가 |

### 점수 범위 변경

| 항목 | V13.0 | V14.0 | 변화 |
|------|-------|-------|------|
| **카테고리 최소** | 30점 | 20점 | -10점 |
| **카테고리 중립** | 65점 | 60점 | -5점 |
| **카테고리 최대** | 100점 | 100점 | 동일 |
| **최종 최소** | 300점 | 200점 | -100점 |
| **최종 중립** | 650점 | 600점 | -50점 |
| **최종 최대** | 1,000점 | 1,000점 | 동일 |

### 변별력 개선

```python
# V13.0 변별력
점수 범위: 300 ~ 1,000점 (700점 범위)
카테고리 점수 범위: 30 ~ 100점 (70점 범위)

# V14.0 변별력
점수 범위: 200 ~ 1,000점 (800점 범위)
카테고리 점수 범위: 20 ~ 100점 (80점 범위)

# 변별력 증가: +14.3%
```

---

## 10. 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|-----------|
| V14.0 | 2025-11-13 | Prior 6.0, 등급 범위 -8~+8 (17단계) 확정 |
| V13.0 | 2025-11-11 | Prior 6.5, Coefficient 0.5 최종 확정 |
| V12.0 | 2025-11-10 | 15단계 등급 시스템 도입 |
| V11.0 | 2025-11-09 | Balanced Negative Sampling 적용 |

---

**승인자**: 시스템 관리자
**승인일**: 2025-11-13
**다음 리뷰**: 2026-01-13
