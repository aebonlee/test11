# V24.0 ë°ì´í„° ìˆ˜ì§‘ ì§€ì¹¨ ë° í”„ë¡œì„¸ìŠ¤

**ì‘ì„±ì¼**: 2025-11-24
**ë²„ì „**: V24.0
**ëª©ì **: V24.0 ë°ì´í„° ìˆ˜ì§‘ì˜ ì „ì²´ í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ê°€ì´ë“œ

---

## ğŸ¯ ê°œìš”

V24.0 ì‹œìŠ¤í…œì€ **Claude Haiku 3.5 API**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì¹˜ì¸ í‰ê°€ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

### í•µì‹¬ ì›ì¹™

1. **ì•ŒíŒŒë²³ ë“±ê¸‰**: A~H (8ë‹¨ê³„)ë§Œ ì‚¬ìš©
2. **ì¶œì²˜ ê· í˜•**: OFFICIAL 50% + PUBLIC 50%
3. **ë¶€ì • ì£¼ì œ ë³´ì¥**: ìµœì†Œ 20% (10ê°œ)
4. **ë³‘ë ¬ ì²˜ë¦¬**: ì¹´í…Œê³ ë¦¬ 5ê°œì”© ë™ì‹œ ìˆ˜ì§‘
5. **ìë™ ì¬ìˆ˜ì§‘**: ëª©í‘œ ë¯¸ë‹¬ ì‹œ ìµœëŒ€ 5íšŒ ë°˜ë³µ

---

## ğŸ“Š ì „ì²´ êµ¬ì¡°

```
1ëª… ì •ì¹˜ì¸ (ì˜¤ì„¸í›ˆ)
â”œâ”€â”€ ì´ 500ê°œ ë°ì´í„°
â”‚   â””â”€â”€ 10ê°œ ì¹´í…Œê³ ë¦¬ Ã— 50ê°œì”©
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 1: ì „ë¬¸ì„± (Expertise) - 50ê°œ
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 2: ë¦¬ë”ì‹­ (Leadership) - 50ê°œ
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 3: ë¹„ì „ (Vision) - 50ê°œ
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 4: ì²­ë ´ì„± (Integrity) - 50ê°œ
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 5: ìœ¤ë¦¬ì„± (Ethics) - 50ê°œ
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 6: ì±…ì„ì„± (Accountability) - 50ê°œ
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 7: íˆ¬ëª…ì„± (Transparency) - 50ê°œ
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 8: ì†Œí†µëŠ¥ë ¥ (Communication) - 50ê°œ
â”‚       â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 9: ëŒ€ì‘ì„± (Responsiveness) - 50ê°œ
â”‚       â””â”€â”€ ì¹´í…Œê³ ë¦¬ 10: ê³µìµì„± (PublicInterest) - 50ê°œ
```

### ì¹´í…Œê³ ë¦¬ë‹¹ 50ê°œ êµ¬ì„±

```
ì¹´í…Œê³ ë¦¬ 1ê°œ = 50ê°œ ë°ì´í„°
â”œâ”€â”€ Phase 1: ë¶€ì • ì£¼ì œ 10ê°œ (20%)
â”‚   â”œâ”€â”€ OFFICIAL 5ê°œ (ê³µê³µê¸°ë¡/ê³µì‹ìë£Œ)
â”‚   â””â”€â”€ PUBLIC 5ê°œ (ì–¸ë¡ ë³´ë„/SNS)
â”‚
â””â”€â”€ Phase 2: ììœ  í‰ê°€ 40ê°œ (80%)
    â”œâ”€â”€ OFFICIAL 20ê°œ (ê³µê³µê¸°ë¡/ê³µì‹ìë£Œ)
    â””â”€â”€ PUBLIC 20ê°œ (ì–¸ë¡ ë³´ë„/SNS)
```

---

## ğŸ”„ ë³‘ë ¬ ì²˜ë¦¬ êµ¬ì¡°

### 2ê·¸ë£¹ ë³‘ë ¬ ì‹¤í–‰

```
ì •ì¹˜ì¸ 1ëª… ìˆ˜ì§‘ (ì´ 1.5ë¶„)
â”œâ”€â”€ [ê·¸ë£¹ 1] ì¹´í…Œê³ ë¦¬ 1~5 ë™ì‹œ ë³‘ë ¬ ì²˜ë¦¬ (40ì´ˆ)
â”‚   â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 1: ì „ë¬¸ì„±
â”‚   â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 2: ë¦¬ë”ì‹­
â”‚   â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 3: ë¹„ì „
â”‚   â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 4: ì²­ë ´ì„±
â”‚   â””â”€â”€ ì¹´í…Œê³ ë¦¬ 5: ìœ¤ë¦¬ì„±
â”‚
â””â”€â”€ [ê·¸ë£¹ 2] ì¹´í…Œê³ ë¦¬ 6~10 ë™ì‹œ ë³‘ë ¬ ì²˜ë¦¬ (40ì´ˆ)
    â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 6: ì±…ì„ì„±
    â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 7: íˆ¬ëª…ì„±
    â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 8: ì†Œí†µëŠ¥ë ¥
    â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ 9: ëŒ€ì‘ì„±
    â””â”€â”€ ì¹´í…Œê³ ë¦¬ 10: ê³µìµì„±
```

### ê° ì¹´í…Œê³ ë¦¬ ë‚´ë¶€ (ìˆœì°¨ ì²˜ë¦¬)

```
ì¹´í…Œê³ ë¦¬ 1ê°œ ìˆ˜ì§‘ (40ì´ˆ)
â”œâ”€â”€ Step 1: ë¶€ì • ì£¼ì œ - OFFICIAL 5ê°œ (5ì´ˆ)
â”œâ”€â”€ Step 2: ë¶€ì • ì£¼ì œ - PUBLIC 5ê°œ (5ì´ˆ)
â”œâ”€â”€ Step 3: ììœ  í‰ê°€ - OFFICIAL 20ê°œ (15ì´ˆ)
â””â”€â”€ Step 4: ììœ  í‰ê°€ - PUBLIC 20ê°œ (15ì´ˆ)
```

---

## ğŸ“‹ ìƒì„¸ ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤

### Phase 1: ë¶€ì • ì£¼ì œ 10ê°œ ìˆ˜ì§‘

#### Step 1-1: OFFICIAL ë¶€ì • ì£¼ì œ 5ê°œ

**ì‚¬ìš© íŒŒì¼**: `instructions/category_1_expertise.md`
- ìœ„ì¹˜: `ì„¤ê³„ë¬¸ì„œ_V6.0/instructions/category_1_expertise.md`
- ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê°œë³„ instruction íŒŒì¼ ì¡´ì¬
- Claude APIì— ì „ë‹¬ë˜ëŠ” í‰ê°€ ì§€ì¹¨

**API í˜¸ì¶œ íŒŒë¼ë¯¸í„°**:
```json
{
  "model": "claude-3-5-haiku-20241022",
  "temperature": 1.0,
  "max_tokens": 8000,
  "messages": [{
    "role": "user",
    "content": "[instructions/category_1_expertise.md ì „ì²´ ë‚´ìš©] + [ì¶”ê°€ ì§€ì‹œì‚¬í•­]"
  }]
}
```

**ì¶”ê°€ ì§€ì‹œì‚¬í•­** (Python ìŠ¤í¬ë¦½íŠ¸ê°€ ë™ì ìœ¼ë¡œ ì¶”ê°€):
```
ì •ì¹˜ì¸: ì˜¤ì„¸í›ˆ
ì¹´í…Œê³ ë¦¬: ì „ë¬¸ì„± (Expertise)
ì£¼ì œ ì œí•œ: ë¶€ì •ì  ì£¼ì œë§Œ ìˆ˜ì§‘
ì¶œì²˜ íƒ€ì…: OFFICIAL (ê³µê³µê¸°ë¡, êµ­íšŒ ì˜ì‚¬ë¡, ì •ë¶€ ë³´ê³ ì„œ, ê³µì‹ ë°œí‘œ ë“±)
ìˆ˜ì§‘ ê°œìˆ˜: 5ê°œ
```

**ì‹¤ì œ êµ¬í˜„** (Python ìŠ¤í¬ë¦½íŠ¸):
```python
# 1. instruction íŒŒì¼ ì½ê¸°
with open('instructions/category_1_expertise.md', 'r', encoding='utf-8') as f:
    base_instruction = f.read()

# 2. ì¶”ê°€ ì§€ì‹œì‚¬í•­ ì‘ì„±
additional_instruction = f"""
ì •ì¹˜ì¸: {politician_name}
ì¹´í…Œê³ ë¦¬: {category_name}
ì£¼ì œ ì œí•œ: ë¶€ì •ì  ì£¼ì œë§Œ
ì¶œì²˜ íƒ€ì…: OFFICIAL
ìˆ˜ì§‘ ê°œìˆ˜: 5ê°œ
"""

# 3. í†µí•© í”„ë¡¬í”„íŠ¸ ìƒì„±
full_prompt = base_instruction + "\n\n" + additional_instruction

# 4. Claude API í˜¸ì¶œ
response = client.messages.create(
    model="claude-3-5-haiku-20241022",
    max_tokens=8000,
    temperature=1.0,
    messages=[{"role": "user", "content": full_prompt}]
)
```

**Claudeì˜ ì‘ì—…**:
1. ì˜¤ì„¸í›ˆì˜ ì „ë¬¸ì„± ê´€ë ¨ **ë¶€ì •ì  ì‚¬ë¡€** ê²€ìƒ‰
2. **ê³µê³µê¸°ë¡/ê³µì‹ìë£Œ**ì—ì„œë§Œ ë°ì´í„° ìˆ˜ì§‘
3. ê° ì‚¬ë¡€ í‰ê°€ (A~H ë“±ê¸‰)
4. JSON í˜•ì‹ìœ¼ë¡œ 5ê°œ í•­ëª© ë°˜í™˜

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
[
  {
    "item_num": 1,
    "data_title": "ì¬ê°œë°œ ì •ì±… ì „ë¬¸ì„± ë¶€ì¡± ì§€ì ",
    "data_content": "ì„œìš¸ì‹œ ì¬ê°œë°œ ì •ì±… ìˆ˜ë¦½ ê³¼ì •ì—ì„œ ì „ë¬¸ê°€ ì˜ê²¬ì„ ì¶©ë¶„íˆ ë°˜ì˜í•˜ì§€ ì•Šì•„ ì£¼ë¯¼ ë°˜ë°œì„ ì´ˆë˜í–ˆë‹¤ëŠ” ì§€ì ì´ ë‚˜ì™”ë‹¤.",
    "data_source": "ì„œìš¸ì‹œì˜íšŒ íšŒì˜ë¡",
    "source_url": "https://council.seoul.go.kr/...",
    "rating": "E",
    "rating_rationale": "ì „ë¬¸ê°€ ì˜ê²¬ ë¯¸ë°˜ì˜ìœ¼ë¡œ ì •ì±… ì‹¤íš¨ì„±ì´ ë–¨ì–´ì ¸ ë¶€ì •ì  í‰ê°€",
    "source_type": "OFFICIAL"
  },
  {
    "item_num": 2,
    "data_title": "êµí†µ ì •ì±… ì…ì•ˆ ì‹œ ì „ë¬¸ì„± ë…¼ë€",
    "data_content": "...",
    "rating": "F",
    "rating_rationale": "...",
    "source_type": "OFFICIAL"
  },
  ... (ì´ 5ê°œ)
]
```

**DB ì €ì¥**:
```python
for item in response_items:
    data = {
        'politician_id': '62e7b453-9bb6-4f6e-ac3b-1e72a8b5e3f4',
        'ai_name': 'claude-3-5-haiku-20241022',
        'category_name': 'Expertise',
        'item_num': item['item_num'],
        'data_title': item['data_title'],
        'data_content': item['data_content'],
        'data_source': item['data_source'],
        'source_url': item['source_url'],
        'rating': item['rating'],  # 'E' (ì•ŒíŒŒë²³ ê·¸ëŒ€ë¡œ!)
        'rating_rationale': item['rating_rationale'],
        'source_type': 'OFFICIAL',
        'collection_date': datetime.now()
    }
    supabase.table('collected_data').insert(data).execute()
```

---

#### Step 1-2: PUBLIC ë¶€ì • ì£¼ì œ 5ê°œ

**API í˜¸ì¶œ íŒŒë¼ë¯¸í„°**:
- ë™ì¼í•œ ë°©ì‹, ë‹¨ `ì¶œì²˜ íƒ€ì…: PUBLIC` ì§€ì •
- PUBLIC: ì–¸ë¡  ë³´ë„, SNS (ê³µì‹ ê³„ì •), ì‹œë¯¼ ì˜ê²¬ ë“±

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
[
  {
    "item_num": 6,
    "data_title": "ë¶€ë™ì‚° ì •ì±… ì „ë¬¸ì„± ê²°ì—¬ ì–¸ë¡  ë¹„íŒ",
    "data_content": "...",
    "rating": "E",
    "source_type": "PUBLIC"
  },
  ... (ì´ 5ê°œ)
]
```

**ê²°ê³¼**: ë¶€ì • ì£¼ì œ 10ê°œ ìˆ˜ì§‘ ì™„ë£Œ (OFFICIAL 5 + PUBLIC 5)

---

### Phase 2: ììœ  í‰ê°€ 40ê°œ ìˆ˜ì§‘

#### Step 2-1: OFFICIAL ììœ  í‰ê°€ 20ê°œ

**API í˜¸ì¶œ íŒŒë¼ë¯¸í„°**:
```
ì •ì¹˜ì¸: ì˜¤ì„¸í›ˆ
ì¹´í…Œê³ ë¦¬: ì „ë¬¸ì„±
ì£¼ì œ ì œí•œ: ì—†ìŒ (ê¸ì •/ë¶€ì • ììœ ë¡­ê²Œ)
ì¶œì²˜ íƒ€ì…: OFFICIAL
ìˆ˜ì§‘ ê°œìˆ˜: 20ê°œ
```

**Claudeì˜ ì‘ì—…**:
1. ì˜¤ì„¸í›ˆì˜ ì „ë¬¸ì„± ê´€ë ¨ **ë‹¤ì–‘í•œ ì‚¬ë¡€** ìˆ˜ì§‘
2. ê¸ì •ì /ë¶€ì •ì  ì‚¬ë¡€ë¥¼ **ê· í˜•ìˆê²Œ** ìˆ˜ì§‘
3. ê³µê³µê¸°ë¡/ê³µì‹ìë£Œì—ì„œë§Œ ìˆ˜ì§‘
4. 20ê°œ í•­ëª© ë°˜í™˜

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
[
  {
    "item_num": 11,
    "data_title": "ë„ì‹œ ê³„íš ë¶„ì•¼ ì „ë¬¸ì„± ì¸ì •ë°›ìŒ",
    "rating": "B",  // ê¸ì •
    "source_type": "OFFICIAL"
  },
  {
    "item_num": 12,
    "data_title": "í–‰ì • ê²½í—˜ ë¶€ì¡± ë¬¸ì œ ì œê¸°ë¨",
    "rating": "F",  // ë¶€ì •
    "source_type": "OFFICIAL"
  },
  ... (ì´ 20ê°œ, ê¸ì •+ë¶€ì • í˜¼í•©)
]
```

---

#### Step 2-2: PUBLIC ììœ  í‰ê°€ 20ê°œ

**API í˜¸ì¶œ íŒŒë¼ë¯¸í„°**:
- ë™ì¼í•œ ë°©ì‹, ë‹¨ `ì¶œì²˜ íƒ€ì…: PUBLIC` ì§€ì •

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
[
  {
    "item_num": 31,
    "data_title": "ì‹œë¯¼ë‹¨ì²´, ì „ë¬¸ì„± ê¸ì • í‰ê°€",
    "rating": "C",
    "source_type": "PUBLIC"
  },
  ... (ì´ 20ê°œ)
]
```

**ê²°ê³¼**: ììœ  í‰ê°€ 40ê°œ ìˆ˜ì§‘ ì™„ë£Œ (OFFICIAL 20 + PUBLIC 20)

---

## ğŸ’¾ DB ì €ì¥ í”„ë¡œì„¸ìŠ¤

### 1ë‹¨ê³„: ë°ì´í„° ê²€ì¦

```python
def validate_item(item):
    """ìˆ˜ì§‘ëœ í•­ëª© ê²€ì¦"""

    # 1. ratingì´ ì•ŒíŒŒë²³ì¸ì§€ í™•ì¸
    if item['rating'] not in ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']:
        raise ValueError(f"Invalid rating: {item['rating']}")

    # 2. í•„ìˆ˜ í•„ë“œ í™•ì¸
    required_fields = ['data_title', 'data_content', 'rating_rationale']
    for field in required_fields:
        if not item.get(field):
            raise ValueError(f"Missing field: {field}")

    # 3. source_type í™•ì¸
    if item['source_type'] not in ['OFFICIAL', 'PUBLIC']:
        raise ValueError(f"Invalid source_type: {item['source_type']}")

    return True
```

### 2ë‹¨ê³„: DB ì €ì¥

```python
def save_to_db(politician_id, category_name, items):
    """DBì— ì €ì¥"""

    success_count = 0
    error_count = 0

    for item in items:
        try:
            # ê²€ì¦
            validate_item(item)

            # ì €ì¥ (ì•ŒíŒŒë²³ ê·¸ëŒ€ë¡œ!)
            data = {
                'politician_id': politician_id,
                'ai_name': 'claude-3-5-haiku-20241022',
                'category_name': category_name,
                'item_num': item['item_num'],
                'data_title': item['data_title'],
                'data_content': item['data_content'],
                'data_source': item['data_source'],
                'source_url': item.get('source_url', ''),
                'rating': item['rating'],  # 'A', 'B', 'C', ...
                'rating_rationale': item['rating_rationale'],
                'source_type': item['source_type'],
                'collection_date': datetime.now()
            }

            supabase.table('collected_data').insert(data).execute()
            success_count += 1

        except Exception as e:
            error_count += 1
            print(f"  âŒ DB ì €ì¥ ì‹¤íŒ¨ (í•­ëª© {item['item_num']}): {e}")

    print(f"   â†’ DB ì €ì¥ ì™„ë£Œ: {success_count}/{len(items)}ê°œ")
    return success_count
```

### 3ë‹¨ê³„: ì¤‘ë³µ ì²˜ë¦¬

**UNIQUE ì œì•½**:
```sql
UNIQUE(politician_id, ai_name, category_name, item_num)
```

- ë™ì¼í•œ `item_num`ì€ ì €ì¥ ë¶ˆê°€
- ì¤‘ë³µ ì‹œ ìë™ìœ¼ë¡œ ì—ëŸ¬ ë°œìƒ
- ì¬ìˆ˜ì§‘ ì‹œ `item_num`ì„ ë‹¤ë¥´ê²Œ ì§€ì •

---

## ğŸ”„ ìë™ ì¬ìˆ˜ì§‘ ë¡œì§

### ì „ì²´ íë¦„

```
1íšŒì°¨ ìˆ˜ì§‘ ì™„ë£Œ
  â†“
DB ìƒíƒœ í™•ì¸
  â†“
50ê°œ ë¯¸ë‹¬ ì¹´í…Œê³ ë¦¬ ë°œê²¬?
  â”œâ”€ YES â†’ 2íšŒì°¨ ì¬ìˆ˜ì§‘ (ë¯¸ë‹¬ ì¹´í…Œê³ ë¦¬ë§Œ)
  â”‚         â†“
  â”‚       DB ìƒíƒœ í™•ì¸
  â”‚         â†“
  â”‚       ì—¬ì „íˆ ë¯¸ë‹¬? â†’ 3íšŒì°¨ ì¬ìˆ˜ì§‘
  â”‚         â†“
  â”‚       ìµœëŒ€ 5íšŒê¹Œì§€ ë°˜ë³µ
  â”‚
  â””â”€ NO â†’ ìˆ˜ì§‘ ì™„ë£Œ!
```

### ì¬ìˆ˜ì§‘ ì¡°ê±´

```python
def check_collection_status(politician_id):
    """ê° ì¹´í…Œê³ ë¦¬ ìˆ˜ì§‘ ìƒíƒœ í™•ì¸"""

    status = {}

    for category in CATEGORIES:
        count = supabase.table('collected_data') \
            .select('*', count='exact') \
            .eq('politician_id', politician_id) \
            .eq('category_name', category) \
            .execute()

        status[category] = {
            'count': count.count,
            'complete': count.count >= 50
        }

    return status
```

### ì¬ìˆ˜ì§‘ ì˜ˆì‹œ

```
1íšŒì°¨: ì „ë¬¸ì„± 48ê°œ (ë¯¸ë‹¬) â†’ 2íšŒì°¨ ì¬ìˆ˜ì§‘ â†’ 52ê°œ (ì™„ë£Œ!)
       ë¦¬ë”ì‹­ 45ê°œ (ë¯¸ë‹¬) â†’ 2íšŒì°¨ ì¬ìˆ˜ì§‘ â†’ 50ê°œ (ì™„ë£Œ!)
       ë¹„ì „ 50ê°œ (ì™„ë£Œ) â†’ ì¬ìˆ˜ì§‘ ì•ˆ í•¨
       ...
```

---

## ğŸš¨ ì—ëŸ¬ ì²˜ë¦¬

### API í˜¸ì¶œ ì—ëŸ¬

**ì¬ì‹œë„ ë¡œì§** (ìµœëŒ€ 5íšŒ):
```python
def call_claude_api_with_retry(prompt, max_retries=5):
    """Claude API í˜¸ì¶œ (ì¬ì‹œë„ í¬í•¨)"""

    for attempt in range(1, max_retries + 1):
        try:
            response = client.messages.create(
                model="claude-3-5-haiku-20241022",
                max_tokens=8000,
                temperature=1.0,
                messages=[{"role": "user", "content": prompt}]
            )
            return response.content[0].text

        except Exception as e:
            print(f"  âŒ API í˜¸ì¶œ ì‹¤íŒ¨ (ì‹œë„ {attempt}/{max_retries}): {e}")

            if attempt < max_retries:
                time.sleep(2 ** attempt)  # ì§€ìˆ˜ ë°±ì˜¤í”„ (2ì´ˆ, 4ì´ˆ, 8ì´ˆ, ...)
            else:
                raise
```

### JSON íŒŒì‹± ì—ëŸ¬

```python
def parse_json_safely(response_text):
    """JSON íŒŒì‹± (ì—ëŸ¬ ì²˜ë¦¬)"""

    try:
        # 1. ì§ì ‘ íŒŒì‹±
        return json.loads(response_text)

    except json.JSONDecodeError:
        # 2. ```json ... ``` ì œê±° í›„ ì¬ì‹œë„
        if '```json' in response_text:
            json_text = response_text.split('```json')[1].split('```')[0].strip()
            return json.loads(json_text)

        # 3. íŒŒì‹± ì‹¤íŒ¨
        raise ValueError(f"JSON íŒŒì‹± ì‹¤íŒ¨: {response_text[:200]}")
```

### DB ì €ì¥ ì—ëŸ¬

```python
# ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì²˜ë¦¬
try:
    supabase.table('collected_data').insert(data).execute()
except Exception as e:
    if '[WinError 10035]' in str(e):
        # ë¹„ë™ê¸° ì†Œì¼“ ì—ëŸ¬ â†’ ì¬ì‹œë„
        time.sleep(1)
        supabase.table('collected_data').insert(data).execute()
    else:
        raise
```

---

## ğŸ“Š ì‹¤ì œ ì§„í–‰ ë¡œê·¸ ì˜ˆì‹œ

### ê·¸ë£¹ 1 ë³‘ë ¬ ì‹¤í–‰

```
================================================================================
ì¹´í…Œê³ ë¦¬ ê·¸ë£¹ 1~5 ë³‘ë ¬ ìˆ˜ì§‘ ì‹œì‘
================================================================================

[ì¹´í…Œê³ ë¦¬ 1: ì „ë¬¸ì„±] [ì¹´í…Œê³ ë¦¬ 2: ë¦¬ë”ì‹­] [ë™ì‹œ ì§„í–‰]

ğŸ“Œ Phase 1: ë¶€ì • ì£¼ì œ 10ê°œ ìˆ˜ì§‘

[ë¶€ì • ì£¼ì œ 5ê°œ - ê³µê³µê¸°ë¡/ê³µì‹ìë£Œ] ì „ë¬¸ì„± (ì‹œë„ 1/5)
  â†’ API í˜¸ì¶œ ì¤‘... (5ì´ˆ)
  â†’ API ì‘ë‹µ: 5ê°œ í•­ëª©
  âœ… ìœ íš¨í•œ í•­ëª©: 5ê°œ

[ë¶€ì • ì£¼ì œ 5ê°œ - ì–¸ë¡  ë³´ë„] ì „ë¬¸ì„± (ì‹œë„ 1/5)
  â†’ API í˜¸ì¶œ ì¤‘... (5ì´ˆ)
  â†’ API ì‘ë‹µ: 5ê°œ í•­ëª©
  âœ… ìœ íš¨í•œ í•­ëª©: 5ê°œ

  â†’ ë¶€ì • ì£¼ì œ: 10ê°œ ìˆ˜ì§‘ (OFFICIAL 5 + PUBLIC 5)

ğŸ“Œ Phase 2: ììœ  í‰ê°€ 40ê°œ ìˆ˜ì§‘

[ììœ  í‰ê°€ 20ê°œ - ê³µê³µê¸°ë¡/ê³µì‹ìë£Œ] ì „ë¬¸ì„± (ì‹œë„ 1/5)
  â†’ API í˜¸ì¶œ ì¤‘... (15ì´ˆ)
  â†’ API ì‘ë‹µ: 20ê°œ í•­ëª©
  âœ… ìœ íš¨í•œ í•­ëª©: 20ê°œ

[ììœ  í‰ê°€ 20ê°œ - ì–¸ë¡  ë³´ë„] ì „ë¬¸ì„± (ì‹œë„ 1/5)
  â†’ API í˜¸ì¶œ ì¤‘... (15ì´ˆ)
  â†’ API ì‘ë‹µ: 20ê°œ í•­ëª©
  âœ… ìœ íš¨í•œ í•­ëª©: 20ê°œ

  â†’ ììœ  í‰ê°€: 40ê°œ ìˆ˜ì§‘ (OFFICIAL 20 + PUBLIC 20)

================================================================================
ìˆ˜ì§‘ ê²°ê³¼
================================================================================
ì´ ê°œìˆ˜: 50ê°œ
  OFFICIAL: 25ê°œ (50.0%)
  PUBLIC: 25ê°œ (50.0%)

âœ… ëª©í‘œ ë‹¬ì„±: 50ê°œ

ë“±ê¸‰ ë¶„í¬:
  ê¸ì • (A~D): 43ê°œ (86.0%)
  ë¶€ì • (E~H): 7ê°œ (14.0%)

ğŸ’¾ DB ì €ì¥ ì¤‘...
   â†’ DB ì €ì¥ ì™„ë£Œ: 50/50ê°œ

âœ… ì¹´í…Œê³ ë¦¬ 1 (ì „ë¬¸ì„±) ì™„ë£Œ
```

---

## ğŸ¯ í•µì‹¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ìˆ˜ì§‘ ì‹œ ë°˜ë“œì‹œ í™•ì¸

- [ ] Ratingì´ **ì•ŒíŒŒë²³** (A~H)ì¸ì§€ í™•ì¸
- [ ] OFFICIAL/PUBLIC ë¹„ìœ¨ì´ **50:50**ì¸ì§€ í™•ì¸
- [ ] ë¶€ì • ì£¼ì œê°€ **ìµœì†Œ 10ê°œ (20%)**ì¸ì§€ í™•ì¸
- [ ] ì¹´í…Œê³ ë¦¬ë‹¹ **50ê°œ ë‹¬ì„±**í–ˆëŠ”ì§€ í™•ì¸
- [ ] DB ì €ì¥ ì‹œ **ìˆ«ì ë³€í™˜ ê¸ˆì§€** í™•ì¸

### DB ì €ì¥ ì‹œ ê¸ˆì§€ ì‚¬í•­

```python
# âŒ ì ˆëŒ€ ê¸ˆì§€!
rating = ALPHABET_GRADES[item['rating']]  # 'A' â†’ 8 ë³€í™˜ (ê¸ˆì§€!)
item['rating'] = 8  # ìˆ«ì ì €ì¥ (ê¸ˆì§€!)

# âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
item['rating'] = 'A'  # ì•ŒíŒŒë²³ ê·¸ëŒ€ë¡œ ì €ì¥
```

---

## ğŸ“ˆ ì„±ëŠ¥ ì§€í‘œ

### 1ëª… ì •ì¹˜ì¸ ìˆ˜ì§‘

- **ì´ ë°ì´í„°**: 500ê°œ (10ê°œ ì¹´í…Œê³ ë¦¬ Ã— 50ê°œ)
- **ì†Œìš” ì‹œê°„**: ì•½ 1.5ë¶„ (ë³‘ë ¬ ì²˜ë¦¬)
- **API í˜¸ì¶œ**: ì•½ 40íšŒ (10ê°œ ì¹´í…Œê³ ë¦¬ Ã— 4ë²ˆ)
- **ì˜ˆìƒ ë¹„ìš©**: $2~5

### 11ëª… ì •ì¹˜ì¸ ìˆ˜ì§‘

- **ì´ ë°ì´í„°**: 5,500ê°œ
- **ì†Œìš” ì‹œê°„**: ì•½ 16ë¶„ (ë³‘ë ¬ ì²˜ë¦¬)
- **API í˜¸ì¶œ**: ì•½ 440íšŒ
- **ì˜ˆìƒ ë¹„ìš©**: $22~55

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

### í‰ê°€ ì§€ì¹¨ (Instructions)
**ìœ„ì¹˜**: `ì„¤ê³„ë¬¸ì„œ_V6.0/instructions/`

ì‹¤ì œ Claude APIì— ì „ë‹¬ë˜ëŠ” ì¹´í…Œê³ ë¦¬ë³„ í‰ê°€ ì§€ì¹¨:
- `category_1_expertise.md` - ì „ë¬¸ì„±
- `category_2_leadership.md` - ë¦¬ë”ì‹­
- `category_3_vision.md` - ë¹„ì „
- `category_4_integrity.md` - ì²­ë ´ì„±
- `category_5_ethics.md` - ìœ¤ë¦¬ì„±
- `category_6_accountability.md` - ì±…ì„ì„±
- `category_7_transparency.md` - íˆ¬ëª…ì„±
- `category_8_communication.md` - ì†Œí†µëŠ¥ë ¥
- `category_9_responsiveness.md` - ëŒ€ì‘ì„±
- `category_10_publicinterest.md` - ê³µìµì„±

### ì‹œìŠ¤í…œ ë¬¸ì„œ
- **CLAUDE.md**: V24.0 ì‘ì—… ì§€ì¹¨ ìš”ì•½
- **V24_ì ìˆ˜ê³„ì‚°_ì•Œê³ ë¦¬ì¦˜_ìƒì„¸ê°€ì´ë“œ.md**: ì ìˆ˜ ê³„ì‚° ìƒì„¸
- **ë“±ê¸‰ì²´ê³„_10ë‹¨ê³„_200-1000ì _V24.md**: ë“±ê¸‰ ì‹œìŠ¤í…œ ìƒì„¸

### Python ìŠ¤í¬ë¦½íŠ¸
- **collect_v24.py**: ë³‘ë ¬ ë°ì´í„° ìˆ˜ì§‘ (ê¸°ë³¸/ê¶Œì¥)
- **collect_v24_sequential.py**: ìˆœì°¨ ë°ì´í„° ìˆ˜ì§‘ (ë””ë²„ê¹…/í…ŒìŠ¤íŠ¸ ì „ìš©)
- **calculate_all_politicians_v24.py**: ì ìˆ˜ ê³„ì‚°

**ìŠ¤í¬ë¦½íŠ¸ ì„¤ê³„ ì›ì¹™**:
- ë³‘ë ¬ ì²˜ë¦¬ê°€ ê¸°ë³¸ ë°©ì‹ (`collect_v24.py`)
- ìˆœì°¨ ì²˜ë¦¬ëŠ” ë””ë²„ê¹… ëª©ì ë§Œ ì‚¬ìš© (`collect_v24_sequential.py`)
- ë‘ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì™„ì „ ë…ë¦½ì  (import ì˜ì¡´ì„± ì—†ìŒ)

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-24
**ë²„ì „**: V24.0
**ìƒíƒœ**: ìµœì¢… ìŠ¹ì¸
